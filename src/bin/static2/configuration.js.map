{
  "version": 3,
  "sources": ["../src/configuration.js"],
  "sourcesContent": ["// Mostly ported from the original node manager\n\nlet nics = null;\nlet lqosd_config = null;\nlet shaped_devices = null;\nlet network_json = null;\n\nconst bindings = [\n    // General\n    { field: \"bindVersion\", path: \".version\", data: \"string\", editable: false },\n    { field: \"bindPath\", path: \".lqos_directory\", data: \"string\", editable: true, required: true },\n    { field: \"bindNodeId\", path: \".node_id\", data: \"string\", editable: true, required: true },\n    { field: \"bindNodeName\", path: \".node_name\", data: \"string\", editable: true, required: true },\n    { field: \"bindPacketCaptureTime\", path: \".packet_capture_time\", data: \"integer\", editable: true, min: 1, max: 300 },\n    { field: \"bindQueueCheckPeriodMs\", path: \".queue_check_period_ms\", data: \"integer\", editable: true, min: 100, max: 100000 },\n\n    // Anonymous Usage\n    { field: \"bindSendAnonymous\", path: \".usage_stats.send_anonymous\", data: \"bool\", editable: true },\n    { field: \"bindAnonymousServer\", path: \".usage_stats.anonymous_server\", data: \"string\", editable: true, required: true },\n\n    // Tuning\n    { field: \"bindStopIrqBalance\", path: \".tuning.stop_irq_balance\", data: \"bool\", editable: true },\n    { field: \"bindNetdevBudgetUs\", path: \".tuning.netdev_budget_usecs\", data: \"integer\", editable: true },\n    { field: \"bindNetdevBudgetPackets\", path: \".tuning.netdev_budget_packets\", data: \"integer\", editable: true },\n    { field: \"bindRxUs\", path: \".tuning.rx_usecs\", data: \"integer\", editable: true },\n    { field: \"bindTxUs\", path: \".tuning.tx_usecs\", data: \"integer\", editable: true },\n    { field: \"bindDisableRxVlan\", path: \".tuning.disable_rxvlan\", data: \"bool\", editable: true },\n    { field: \"bindDisableTxVlan\", path: \".tuning.disable_txvlan\", data: \"bool\", editable: true },\n    { field: \"bindDisableOffload\", path: \".tuning.disable_offload\", data: \"array_of_strings\", editable: true },\n\n    // Bridge/Stick\n    { conditional: true, condition: \"if_exists\", path: \".bridge\", showDiv: \"bridgeMode\", hideDiv: \"OnAStickMode\" },\n    { field: \"bindUseXdpBridge\", path: \".bridge.use_xdp_bridge\", data: \"bool\", editable: true },\n    { field: \"bindBridgeToInternet\", path: \".bridge.to_internet\", data: \"interface\", editable: true },\n    { field: \"bindBridgeToNetwork\", path: \".bridge.to_network\", data: \"interface\", editable: true },\n    { end_conditional: true },\n    { conditional: true, condition: \"if_exists\", path: \".single_interface\", showDiv: \"OnAStickMode\", hideDiv: \"bridgeMode\" },\n    { field: \"bindSingleInterfaceNic\", path: \".single_interface.interface\", data: \"interface\", editable: true },\n    { field: \"bindSingleInterfaceInternetVlan\", path: \".single_interface.internet_vlan\", data: \"integer\", editable: true },\n    { field: \"bindSingleInterfaceNetworklan\", path: \".single_interface.network_vlan\", data: \"integer\", editable: true },\n    { end_conditional: true },\n\n    // Queues\n    { field: \"bindSqm\", path: \".queues.default_sqm\", data: \"select-premade\", editable: true },\n    { field: \"bindMonitorMode\", path: \".queues.monitor_only\", data: \"bool\", editable: true },\n    { field: \"bindUplinkMbps\", path: \".queues.uplink_bandwidth_mbps\", data: \"integer\", editable: true },\n    { field: \"bindDownlinkMbps\", path: \".queues.downlink_bandwidth_mbps\", data: \"integer\", editable: true },\n    { field: \"bindGeneratedDownlinkMbps\", path: \".queues.generated_pn_download_mbps\", data: \"integer\", editable: true },\n    { field: \"bindGeneratedUplinkMbps\", path: \".queues.generated_pn_upload_mbps\", data: \"integer\", editable: true },\n    { field: \"bindDryRun\", path: \".queues.dry_run\", data: \"bool\", editable: true },\n    { field: \"bindSudo\", path: \".queues.sudo\", data: \"bool\", editable: true },\n    { field: \"bindBinpack\", path: \".queues.use_binpacking\", data: \"bool\", editable: true },\n    { field: \"bindQueuesAvailableOverride\", path: \".queues.override_available_queues\", data: \"integer\", editable: true },\n\n    // LTS\n    { field: \"bindEnableLTS\", path: \".long_term_stats.gather_stats\", data: \"bool\", editable: true },\n    { field: \"bindLtsCollation\", path: \".long_term_stats.collation_period_seconds\", data: \"integer\", editable: true },\n    { field: \"bindLtsLicense\", path: \".long_term_stats.license_key\", data: \"string\", editable: true },\n    { field: \"bindLtsUispInterval\", path: \".long_term_stats.uisp_reporting_interval_seconds\", data: \"integer\", editable: true },\n\n    // IP Ranges\n    { field: \"bindIgnoreRanges\", path: \".ip_ranges.ignore_subnets\", data: \"ip_array\", editable: true },\n    { field: \"bindAllowRanges\", path: \".ip_ranges.allow_subnets\", data: \"ip_array\", editable: true },\n\n    // Flow tracking\n    { field: \"bindFlowsTimeout\", path: \".flows.flow_timeout_seconds\", data: \"integer\", editable: true },\n    { field: \"bindEnableNetflow\", path: \".flows.netflow_enabled\", data: \"bool\", editable: true },\n    { field: \"bindFlowsPort\", path: \".flows.netflow_port\", data: \"integer\", editable: true },\n    { field: \"bindFlowsTarget\", path: \".flows.netflow_ip\", data: \"string\", editable: true },\n    { field: \"bindFlowsVersion\", path: \".flows.netflow_ip\", data: \"select-premade\", editable: true },\n\n    // Integration Common\n    { field: \"bindCircuitNameAsAddress\", path: \".integration_common.circuit_name_as_address\", data: \"bool\", editable: true },\n    { field: \"bindOverwriteNetJson\", path: \".integration_common.always_overwrite_network_json\", data: \"bool\", editable: true },\n    { field: \"bindQueueRefreshInterval\", path: \".integration_common.queue_refresh_interval_mins\", data: \"integer\", editable: true },\n\n    // Splynx\n    { field: \"bindSplynxEnable\", path: \".spylnx_integration.enable_spylnx\", data: \"bool\", editable: true },\n    { field: \"bindSplynxApiKey\", path: \".spylnx_integration.api_key\", data: \"string\", editable: true },\n    { field: \"bindSplynxApiSecret\", path: \".spylnx_integration.api_secret\", data: \"string\", editable: true },\n    { field: \"bindSplynxApiUrl\", path: \".spylnx_integration.url\", data: \"string\", editable: true },\n\n    // UISP\n    { field: \"bindUispEnable\", path: \".uisp_integration.enable_uisp\", data: \"bool\", editable: true },\n    { field: \"bindUispToken\", path: \".uisp_integration.token\", data: \"string\", editable: true },\n    { field: \"bindUispUrl\", path: \".uisp_integration.url\", data: \"string\", editable: true },\n    { field: \"bindUispSite\", path: \".uisp_integration.site\", data: \"string\", editable: true },\n    { field: \"bindUispStrategy\", path: \".uisp_integration.strategy\", data: \"select-premade\", editable: true },\n    { field: \"bindUispSuspended\", path: \".uisp_integration.suspended_strategy\", data: \"select-premade\", editable: true },\n    { field: \"bindUispAirmaxCapacity\", path: \".uisp_integration.airmax_capacity\", data: \"float\", editable: true },\n    { field: \"bindUispLtuCapacity\", path: \".uisp_integration.ltu_capacity\", data: \"float\", editable: true },\n    { field: \"bindUispIpv6Mikrotik\", path: \".uisp_integration.ipv6_with_mikrotik\", data: \"bool\", editable: true },\n    { field: \"bindUispOverheadFactor\", path: \".uisp_integration.bandwidth_overhead_factor\", data: \"float\", editable: true },\n    { field: \"bindUispCommitMultiplier\", path: \".uisp_integration.commit_bandwidth_multiplier\", data: \"float\", editable: true },\n    { field: \"bindUispExcludeSites\", path: \".uisp_integration.exclude_sites\", data: \"array_of_strings\", editable: true },\n    { field: \"bindUispExceptionCpes\", path: \".uisp_integration.exception_cpes\", data: \"array_of_strings\", editable: true },\n    { field: \"bindUispUsePtmpAsParent\", path: \".uisp_integration.use_ptmp_as_parent\", data: \"bool\", editable: true },\n    { field: \"bindUispIgnoreCalculatedCapacity\", path:\".uisp_integration.ignore_calculated_capacity\", data: \"bool\", editable: true },\n\n    // Powercode\n    { field: \"bindPowercodeEnable\", path: \".powercode_integration.enable_powercode\", data: \"bool\", editable: true },\n    { field: \"bindPowercodeKey\", path: \".powercode_integration.powercode_api_key\", data: \"string\", editable: true },\n    { field: \"bindPowercodeUrl\", path: \".powercode_integration.powercode_api_url\", data: \"string\", editable: true },\n\n    // Sonar\n    { field: \"bindSonarEnable\", path: \".sonar_integration.enable_sonar\", data: \"bool\", editable: true },\n    { field: \"bindSonarApiKey\", path: \".sonar_integration.sonar_api_key\", data: \"string\", editable: true },\n    { field: \"bindSonarApiUrl\", path: \".sonar_integration.sonar_api_url\", data: \"string\", editable: true },\n    { field: \"bindSonarSnmp\", path: \".sonar_integration.snmp_community\", data: \"string\", editable: true },\n    { field: \"bindSonarAirmax\", path: \".sonar_integration.airmax_model_ids\", data: \"array_of_strings\", editable: true },\n    { field: \"bindSonarLtu\", path: \".sonar_integration.ltu_model_ids\", data: \"array_of_strings\", editable: true },\n    { field: \"bindSonarActive\", path: \".sonar_integration.active_status_ids\", data: \"array_of_strings\", editable: true },\n\n    // Influx\n    { field: \"bindInfluxEnable\", path: \".influxdb.enable_influxdb\", data: \"bool\", editable: true },\n    { field: \"bindInfluxUrl\", path: \".influxdb.url\", data: \"string\", editable: true },\n    { field: \"bindInfluxOrg\", path: \".influxdb.org\", data: \"string\", editable: true },\n    { field: \"bindInfluxBucket\", path: \".influxdb.bucket\", data: \"string\", editable: true },\n    { field: \"bindInfluxToken\", path: \".influxdb.token\", data: \"string\", editable: true },\n\n];\n\nfunction doBindings() {\n    let active = true;\n\n    for (var i=0; i<bindings.length; ++i) {\n        let entry = bindings[i];\n\n        if (entry.conditional != null) {\n            console.log(\"Conditional encountered\");\n            if (entry.condition === \"if_exists\") {\n                let val = \"lqosd_config\" + entry.path;\n                if (eval(val) != null) {\n                    console.log(\"Conditional fired\");\n                    active = true;\n                    if (entry.showDiv != null) {\n                        $(\"#\" + entry.showDiv).show();\n                    }\n                    if (entry.hideDiv != null) {\n                        $(\"#\" + entry.hideDiv).hide();\n                    }\n                } else {\n                    console.log(\"Conditional did not fire\")\n                    active = false;\n                }\n            }\n        } else if (entry.end_conditional != null) {\n            console.log(\"Conditional ended\");\n            active = true;\n        } else {\n            if (!active) {\n                console.log(\"Skipping \" + entry.path);\n                continue;\n            }\n            let value_location = \"lqosd_config\" + entry.path;\n            let value = eval(value_location);\n            let controlId = \"#\" + entry.field;\n            if (entry.data === \"bool\") {\n                $(controlId).prop('checked', value);\n            } else if (entry.data === \"selector-premade\") {\n                $(controlId + \" select\").val(value);\n            } else if (entry.data === \"array_of_strings\") {\n                let expanded = \"\";\n                let length = eval(\"lqosd_config\" + entry.path + \".length\");\n                for (let j = 0; j < length; j++) {\n                    let v = eval(\"lqosd_config\" + entry.path + \"[\" + j + \"]\");\n                    expanded += v + \" \";\n                }\n                expanded = expanded.trimEnd();\n                $(controlId).val(expanded);\n            } else if (entry.data === \"ip_array\") {\n                let expanded = \"\";\n                let length = eval(\"lqosd_config\" + entry.path + \".length\");\n                for (let j = 0; j < length; j++) {\n                    let v = eval(\"lqosd_config\" + entry.path + \"[\" + j + \"]\");\n                    expanded += v + \"\\n\";\n                }\n                expanded = expanded.trimEnd();\n                $(controlId).val(expanded);\n            } else if (entry.data === \"interface\") {\n                console.log(\"NIC: \" + entry.field);\n                fillNicList(entry.field, value);\n            } else {\n                $(controlId).val(value);\n            }\n            $(controlId).prop('readonly', !entry.editable);\n        }\n    }\n}\n\nfunction setBridgeMode() {\n    $(\"#bridgeMode\").show();\n    $(\"#OnAStickMode\").hide();\n    lqosd_config.single_interface = null;\n    lqosd_config.bridge = {\n        use_xdp_bridge: true,\n        to_internet: \"\",\n        to_network: \"\",\n    };\n    $(\"#bindUseXdpBridge\").prop('checked', true);\n    fillNicList(\"bindBridgeToInternet\", nics[0][0]);\n    fillNicList(\"bindBridgeToNetwork\", nics[0][0]);\n}\n\nfunction setStickMode() {\n    $(\"#bridgeMode\").hide();\n    $(\"#OnAStickMode\").show();\n    lqosd_config.bridge = null;\n    lqosd_config.single_interface = {\n        interface: \"\",\n        internet_vlan: 2,\n        network_vlan: 3,\n    };\n    fillNicList(\"bindSingleInterfaceNic\", nics[0][0]);\n    $(\"#bindSingleInterfaceInternetVlan\").val('2');\n    $(\"#bindSingleInterfaceNetworklan\").val('3');\n}\n\nfunction detectChanges() {\n    let changes = [];\n    for (let i=0; i<bindings.length; ++i) {\n        let entry = bindings[i];\n        let controlId = entry.field;\n        if (entry.path === \".bridge\" || entry.path === \".single_interface\") continue;\n        if (entry.path != null) {\n            let path = \"lqosd_config\" + entry.path;\n            let currentValue = $(\"#\" + controlId).val();\n            // TODO: Bridge/Stick special case\n            if (entry.data === \"bool\") {\n                currentValue = $(\"#\" + controlId).is(':checked');\n            } else if (entry.data === \"array_of_strings\") {\n                currentValue = currentValue.replace('\\n', '').split(' ');\n            } else if (entry.data === \"ip_array\") {\n                currentValue = currentValue.split('\\n');\n            }\n            try {\n                let storedValue = eval(path);\n                if (entry.data === \"string\" || entry.data === \"integer\") {\n                    if (storedValue === null && currentValue === \"\")\n                        currentValue = null;\n                }\n                //console.log(path, currentValue, storedValue);\n                if (String(currentValue) !== String(storedValue)) {\n                    console.log(\"Change detected!\");\n                    console.log(entry.path, \" has changed. \", storedValue, '=>', currentValue);\n                    changes.push(i);\n                }\n            } catch {\n                //console.log(path + 'ignored');\n            }\n        }\n    }\n    return changes;\n}\n\nfunction validateConfig() {\n    console.log(\"Starting validator\");\n    $(\".invalid\").removeClass(\"invalid\");\n    let changes = detectChanges();\n    if (changes.length === 0) {\n        console.log(\"Nothing changed!\");\n        alert(\"No configuration changes were made.\");\n        return {\n            valid: false,\n            changes: [],\n        };\n    }\n\n    let valid = true;\n    let errors = [];\n    for (let i=0; i<changes.length; i++) {\n        let target = bindings[changes[i]];\n        if (target.data === \"string\") {\n            let newValue = $(\"#\" + target.field).val();\n            if (target.required != null && target.required === true) {\n                if (newValue.length === 0) {\n                    valid = false;\n                    errors.push(target.path + \" is required.\");\n                    $(\"#\" + target.field).addClass(\"invalid\");\n                }\n            }\n        } else if (target.data === \"integer\" || target.data === \"float\") {\n            let newValue = $(\"#\" + target.field).val();\n            newValue = parseInt(newValue);\n            if (isNaN(newValue)) {\n                valid = false;\n                errors.push(target.path + \" must be an integer number.\");\n                $(\"#\" + target.field).addClass(\"invalid\");\n            } else {\n                if (target.min != null) {\n                    if (newValue < target.min) {\n                        valid = false;\n                        errors.push(target.path + \" must be between \" + target.min + \" and \" + target.max + \".\");\n                        $(\"#\" + target.field).addClass(\"invalid\");\n                    }\n                }\n                if (target.max != null) {\n                    if (newValue > target.max) {\n                        valid = false;\n                        errors.push(target.path + \" must be between \" + target.min + \" and \" + target.max + \".\");\n                        $(\"#\" + target.field).addClass(\"invalid\");\n                    }\n                }\n            }\n        }\n    }\n\n    if (!valid) {\n        let errorMessage = \"\";\n        for (let i=0; i<errors.length; i++) {\n            errorMessage += errors[i] + \"\\n\";\n        }\n        alert(\"Validation errors\\n\" + errorMessage);\n    }\n\n    console.log(\"Ending Validator\");\n    return {\n        valid: valid,\n        changes: changes,\n    };\n}\n\nfunction getFinalValue(target) {\n    let selector = \"#\" + target.field;\n    switch (target.data) {\n        case \"bool\": return $(selector).is(\":checked\");\n        case \"string\": return $(selector).val();\n        case \"integer\": return parseInt($(selector).val());\n        case \"float\": return parseFloat($(selector).val());\n        case \"array_of_strings\": return $(selector).val().split(' ');\n        case \"interface\": return $(selector).val();\n        case \"select-premade\": return $(selector).val();\n        case \"ip_array\": return $(selector).val().split('\\n');\n        default: console.log(\"Not handled: \" + target);\n    }\n}\n\nfunction updateSavedConfig(changes) {\n    for (let i=0; i<changes.length; i++) {\n        let target = bindings[changes[i]];\n\n        let parts = target.path.split(\".\");\n        if (parts.length === 2) {\n            // It's a top-level entry so we have to write to the master variable\n            lqosd_config[parts[1]] = getFinalValue(target);\n        }\n\n        let configTarget = lqosd_config;\n        for (let j=1; j<parts.length-1; j++) {\n            configTarget = configTarget[parts[j]];\n\n            // Note: we're doing a stupid dance here because of JS's pass-by-value for\n            // a field value, when any sane language would just let me use a reference.\n            // Stopping at the pre-value level and then referencing its' child forces\n            // JS to pass by reference and do what we want!\n            if (j === parts.length-2) {\n                configTarget[parts[j+1]] = getFinalValue(target);\n            }\n        }\n    }\n}\n\nfunction saveConfig() {\n    let validationResult = validateConfig();\n    if (!validationResult.valid) return;\n\n    updateSavedConfig(validationResult.changes);\n    $.ajax({\n        type: \"POST\",\n        url: \"/local-api/updateConfig\",\n        contentType:\"application/json\",\n        data: JSON.stringify(lqosd_config),\n        success: (data) => {\n            if (data === \"Ok\") {\n                alert(\"Configuration saved\");\n            } else {\n                alert(\"Configuration not saved: \" + data);\n            }\n        }\n    })\n}\n\nfunction iterateNetJson(level, depth) {\n    let html = \"<div style='margin-left: \" + depth * 30 + \"px; margin-top: 4px;'>\";\n    for (const [key, value] of Object.entries(level)) {\n        html += \"<div>\";\n        html += \"<strong>\" + key + \"</strong>\";\n        if (depth > 0) {\n            html += \"  <button class='btn btn-sm btn-outline-secondary' onclick='window.promoteNode(\\\"\" + key + \"\\\") '><i class='fa fa-arrow-left'></i> Promote</button>\";\n        }\n        html += \"  <button class='btn btn-sm btn-outline-secondary' onclick='window.renameNode(\\\"\" + key + \"\\\") '><i class='fa fa-pencil'></i> Rename</button>\";\n        html += \"  <button class='btn btn-sm btn-outline-warning' onclick='window.deleteNode(\\\"\" + key + \"\\\") '><i class='fa fa-trash'></i> Delete</button>\";\n        html += \"<br />\";\n        html += \"Download: \" + value.downloadBandwidthMbps + \" Mbps <button type='button' class='btn btn-sm btn-outline-secondary' onclick='window.nodeSpeedChange(\\\"\" + key + \"\\\", \\\"d\\\")'><i class='fa fa-pencil'></i></button><br />\";\n        html += \"Upload: \" + value.uploadBandwidthMbps + \" Mbps <button type='button' class='btn btn-sm btn-outline-secondary' onclick='window.nodeSpeedChange(\\\"\" + key + \"\\\", \\\"u\\\")'><i class='fa fa-pencil'></i></button><br />\";\n        let num_children = 0;\n        for (let i=0; i<shaped_devices.length; i++) {\n            if (shaped_devices[i].parent_node === key) {\n                num_children++;\n            }\n        }\n        html += \"<em>Associated Devices: \" + num_children + \"</em><br />\";\n        //console.log(`${key}: ${value}`);\n        //console.log(\"Children\", value.children);\n        if (value.children != null) {\n            html += iterateNetJson(value.children, depth + 1);\n        }\n        html += \"</div>\";\n    }\n    html += \"</div>\";\n    return html;\n}\n\nfunction RenderNetworkJson() {\n    let html = \"\";\n    html += iterateNetJson(network_json, 0);\n    $(\"#netjson\").html(html);\n}\n\nfunction flattenNetwork() {\n    if (confirm(\"Are you sure you wish to flatten your network? All topology will be removed, giving a flat network. All Shaped Devices will be reparented to the single node.\")) {\n        network_json = {};\n        RenderNetworkJson();\n        for (let i=0; i<shaped_devices.length; i++) {\n            shaped_devices[i].parent_node = \"\";\n        }\n        shapedDevices();\n    }\n}\n\nfunction addNetworkNode() {\n    let newName = $(\"#njsNewNodeName\").val();\n    let newDown = parseInt($(\"#njsNewNodeDown\").val());\n    let newUp = parseInt($(\"#njsNewNodeUp\").val());\n    if (newName.length > 0 && newDown > 1 && newUp > 1) {\n        network_json[newName] = {\n            downloadBandwidthMbps: newDown,\n            uploadBandwidthMbps: newUp,\n            children: {}\n        }\n    }\n    RenderNetworkJson();\n}\n\nfunction promoteNode(nodeId) {\n    console.log(\"Promoting \", nodeId);\n    let previousParent = null;\n\n    function iterate(tree, depth) {\n        for (const [key, value] of Object.entries(tree)) {\n            console.log(key);\n            if (key === nodeId) {\n                console.log(key);\n                let tmp = value;\n                delete tree[nodeId];\n                previousParent[nodeId] = tmp;\n            }\n\n            if (value.children != null) {\n                previousParent = tree;\n                iterate(value.children, depth+1);\n            }\n        }\n    }\n\n    iterate(network_json);\n    RenderNetworkJson();\n}\n\nfunction nodeSpeedChange(nodeId, direction) {\n    let newVal = prompt(\"New download value in Mbps\");\n    newVal = parseInt(newVal);\n    if (isNaN(newVal)) {\n        alert(\"That's not an integer!\");\n        return;\n    }\n    if (newVal < 1) {\n        alert(\"New value must be greater than 1\");\n        return;\n    }\n\n    // Find and set\n    function iterate(tree, depth) {\n        for (const [key, value] of Object.entries(tree)) {\n            console.log(key);\n            if (key === nodeId) {\n                switch (direction) {\n                    case 'd' : value.downloadBandwidthMbps = newVal; break;\n                    case 'u' : value.uploadBandwidthMbps = newVal; break;\n                    default: console.log(\"Oopsie - unknown direction\");\n                }\n            }\n\n            if (value.children != null) {\n                iterate(value.children, depth+1);\n            }\n        }\n    }\n\n    iterate(network_json);\n    RenderNetworkJson();\n}\n\nfunction deleteNode(nodeId) {\n    if (!confirm(\"Are you sure you want to delete \" + nodeId + \"? All child nodes will also be deleted.\")) {\n        return;\n    }\n    let deleteList = [ nodeId ];\n    let deleteParent = \"\";\n\n    // Find the node to delete\n    function iterate(tree, depth, parent) {\n        for (const [key, value] of Object.entries(tree)) {\n            if (key === nodeId) {\n                // Find nodes that will go away\n                if (value.children != null) {\n                    iterateTargets(value.children, depth+1);\n                }\n                deleteParent = parent;\n                delete tree[key];\n            }\n\n            if (value.children != null) {\n                iterate(value.children, depth+1, key);\n            }\n        }\n    }\n\n    function iterateTargets(tree, depth) {\n        for (const [key, value] of Object.entries(tree)) {\n            deleteList.push(key);\n\n            if (value.children != null) {\n                iterateTargets(value.children, depth+1);\n            }\n        }\n    }\n\n    // Find the nodes to delete and erase them\n    iterate(network_json, \"\");\n\n    // Now we have a list in deleteList of all the nodes that were deleted\n    // We need to go through ShapedDevices and re-parent devices\n    console.log(deleteParent);\n    if (deleteParent == null) {\n        // We deleted something at the top of the tree, so there's no\n        // natural parent! So we'll set them to be at the root. That's\n        // only really the right answer if the user went \"flat\" - but there's\n        // no way to know. So they'll have to fix some validation themselves.\n        for (let i=0; i<shaped_devices.length; i++) {\n            let sd = shaped_devices[i];\n            if (deleteList.indexOf(sd.parent_node) > -1) {\n                sd.parent_node = \"\";\n            }\n        }\n        alert(\"Because there was no obvious parent, you may have to fix some parenting in your Shaped Devices list.\");\n    } else {\n        // Move everything up the tree\n        for (let i=0; i<shaped_devices.length; i++) {\n            let sd = shaped_devices[i];\n            if (deleteList.indexOf(sd.parent_node) > -1) {\n                sd.parent_node = deleteParent;\n            }\n        }\n    }\n\n    // Update the display\n    RenderNetworkJson();\n    shapedDevices();\n}\n\nfunction renameNode(nodeId) {\n    let newName = prompt(\"New node name?\");\n\n    function iterate(tree, depth) {\n        for (const [key, value] of Object.entries(tree)) {\n            console.log(key);\n            if (key === nodeId) {\n                console.log(key);\n                let tmp = value;\n                delete tree[nodeId];\n                tree[newName] = tmp;\n            }\n\n            if (value.children != null) {\n                iterate(value.children, depth+1);\n            }\n        }\n    }\n\n    iterate(network_json);\n\n    for (let i=0; i<shaped_devices.length; i++) {\n        let sd = shaped_devices[i];\n        if (sd.parent_node === nodeId) sd.parent_node = newName;\n    }\n\n    RenderNetworkJson();\n    shapedDevices();\n}\n\nfunction rowPrefix(rowId, boxId) {\n    return \"sdr_\" + rowId + \"_\" + boxId;\n}\n\nfunction makeSheetBox(rowId, boxId, value, small=false) {\n    let html = \"\";\n    if (!small) {\n        html = \"<td style='padding: 0px'><input id='\" + rowPrefix(rowId, boxId) + \"' type=\\\"text\\\" value=\\\"\" + value + \"\\\"></input></td>\"\n    } else {\n        html = \"<td style='padding: 0px'><input id='\" + rowPrefix(rowId, boxId) + \"' type=\\\"text\\\" value=\\\"\" + value + \"\\\" style='font-size: 8pt;'></input></td>\"\n    }\n    return html;\n}\n\nfunction makeSheetNumberBox(rowId, boxId, value) {\n    let html = \"<td style='padding: 0px'><input id='\" + rowPrefix(rowId, boxId) + \"' type=\\\"number\\\" value=\\\"\" + value + \"\\\" style='width: 100px; font-size: 8pt;'></input></td>\"\n    return html;\n}\n\nfunction separatedIpArray(rowId, boxId, value) {\n    let html = \"<td style='padding: 0px'>\";\n    let val = \"\";\n    for (i = 0; i<value.length; i++) {\n        val += value[i][0];\n        val += \"/\";\n        val += value[i][1];\n        val += \", \";\n    }\n    if (val.length > 0) {\n        val = val.substring(0, val.length-2);\n    }\n    html += \"<input id='\" + rowPrefix(rowId, boxId) + \"' type='text' style='font-size: 8pt; width: 100px;' value='\" + val + \"'></input>\";\n    html += \"</td>\";\n    return html;\n}\n\nfunction nodeDropDown(rowId, boxId, selectedNode) {\n    let html = \"<td style='padding: 0px'>\";\n    html += \"<select id='\" + rowPrefix(rowId, boxId) + \"' style='font-size: 8pt; width: 150px;'>\";\n\n    function iterate(data, level) {\n        let html = \"\";\n        for (const [key, value] of Object.entries(data)) {\n            html += \"<option value='\" + key + \"'\";\n            if (key === selectedNode) html += \" selected\";\n            html += \">\";\n            for (let i=0; i<level; i++) html += \"-\";\n            html += key;\n            html += \"</option>\";\n\n            if (value.children != null)\n                html += iterate(value.children, level+1);\n        }\n        return html;\n    }\n    html += iterate(network_json, 0);\n\n    html += \"</select>\";\n    html += \"</td>\";\n    return html;\n}\n\nfunction validNodeList() {\n    let nodes = [];\n\n    function iterate(data, level) {\n        for (const [key, value] of Object.entries(data)) {\n            nodes.push(key);\n            if (value.children != null)\n                iterate(value.children, level+1);\n        }\n    }\n\n    iterate(network_json, 0);\n\n    return nodes;\n}\n\nfunction newSdRow() {\n    shaped_devices.unshift({\n        circuit_id: \"new_circuit\",\n        circuit_name: \"new circuit\",\n        device_id: \"new_device\",\n        device_name: \"new device\",\n        mac: \"\",\n        ipv4: \"\",\n        ipv6: \"\",\n        download_min_mbps: 100,\n        upload_min_mbps: 100,\n        download_max_mbps: 100,\n        upload_max_mbps: 100,\n        comment: \"\",\n    });\n    shapedDevices();\n}\n\nfunction deleteSdRow(id) {\n    shaped_devices.splice(id, 1);\n    shapedDevices();\n}\n\nfunction checkIpv4(ip) {\n    const ipv4Pattern =\n        /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n\n    if (ip.indexOf('/') === -1) {\n        return ipv4Pattern.test(ip);\n    } else {\n        let parts = ip.split('/');\n        return ipv4Pattern.test(parts[0]);\n    }\n}\n\nfunction checkIpv6(ip) {\n    const ipv6Pattern =\n        /^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;\n\n    if (ip.indexOf('/') === -1) {\n        return ipv6Pattern.test(ip);\n    } else {\n        let parts = ip.split('/');\n        return ipv6Pattern.test(parts[0]);\n    }\n}\n\nfunction checkIpv4Duplicate(ip, index) {\n    ip = ip.trim();\n    for (let i=0; i < shaped_devices.length; i++) {\n        if (i !== index) {\n            let sd = shaped_devices[i];\n            for (let j=0; j<sd.ipv4.length; j++) {\n                let formatted = \"\";\n                if (ip.indexOf('/') > 0) {\n                    formatted = sd.ipv4[j][0] + \"/\" + sd.ipv4[j][1];\n                } else {\n                    formatted = sd.ipv4[j][0];\n                }\n                if (formatted === ip) {\n                    return index;\n                }\n            }\n        }\n    }\n    return -1;\n}\n\nfunction checkIpv6Duplicate(ip, index) {\n    ip = ip.trim();\n    for (let i=0; i < shaped_devices.length; i++) {\n        if (i !== index) {\n            let sd = shaped_devices[i];\n            for (let j=0; j<sd.ipv6.length; j++) {\n                let formatted = \"\";\n                if (ip.indexOf('/') > 0) {\n                    formatted = sd.ipv6[j][0] + \"/\" + sd.ipv6[j][1];\n                } else {\n                    formatted = sd.ipv6[j][0];\n                }\n                if (formatted === ip) {\n                    return index;\n                }\n            }\n        }\n    }\n    return -1;\n}\n\nfunction validateSd() {\n    let valid = true;\n    let errors = [];\n    $(\".invalid\").removeClass(\"invalid\");\n    let validNodes = validNodeList();\n\n    for (let i=0; i<shaped_devices.length; i++) {\n        // Check that circuit ID is good\n        let controlId = \"#\" + rowPrefix(i, \"circuit_id\");\n        let circuit_id = $(controlId).val();\n        if (circuit_id.length === 0) {\n            valid = false;\n            errors.push(\"Circuits must have a Circuit ID\");\n            $(controlId).addClass(\"invalid\");\n        }\n\n        // Check that the Circuit Name is good\n        controlId = \"#\" + rowPrefix(i, \"circuit_name\");\n        let circuit_name = $(controlId).val();\n        if (circuit_name.length === 0) {\n            valid = false;\n            errors.push(\"Circuits must have a Circuit Name\");\n            $(controlId).addClass(\"invalid\");\n        }\n\n        // Check that the Device ID is good\n        controlId = \"#\" + rowPrefix(i, \"device_id\");\n        let device_id = $(controlId).val();\n        if (device_id.length === 0) {\n            valid = false;\n            errors.push(\"Circuits must have a Device ID\");\n            $(controlId).addClass(\"invalid\");\n        }\n        for (let j=0; j<shaped_devices.length; j++) {\n            if (i !== j) {\n                if (shaped_devices[j].device_id === device_id) {\n                    valid = false;\n                    errors.push(\"Devices with duplicate ID [\" + device_id + \"] detected\");\n                    $(controlId).addClass(\"invalid\");\n                    $(\"#\" + rowPrefix(j, \"device_id\")).addClass(\"invalid\");\n                }\n            }\n        }\n\n        // Check that the Device Name is good\n        controlId = \"#\" + rowPrefix(i, \"device_name\");\n        let device_name = $(controlId).val();\n        if (device_name.length === 0) {\n            valid = false;\n            errors.push(\"Circuits must have a Device Name\");\n            $(controlId).addClass(\"invalid\");\n        }\n\n        // Check the parent node\n        controlId = \"#\" + rowPrefix(i, \"parent_node\");\n        let parent_node = $(controlId).val();\n        if (parent_node == null) parent_node = \"\";\n        if (validNodes.length === 0) {\n            // Flat\n            if (parent_node.length > 0) {\n                valid = false;\n                errors.push(\"You have a flat network, so you can't specify a parent node.\");\n                $(controlId).addClass(\"invalid\");\n            }\n        } else {\n            // Hierarchy - so we need to know if it exists\n            if (validNodes.indexOf(parent_node) === -1) {\n                valid = false;\n                errors.push(\"Parent node: \" + parent_node + \" does not exist\");\n                $(controlId).addClass(\"invalid\");\n            }\n        }\n\n        // We can ignore the MAC address\n\n        // IPv4\n        controlId = \"#\" + rowPrefix(i, \"ipv4\");\n        let ipv4 = $(controlId).val();\n        if (ipv4.length > 0) {\n            // We have IP addresses\n            if (ipv4.indexOf(',') !== -1) {\n                // We have multiple addresses\n                let ips = ipv4.replace(' ', '').split(',');\n                for (let j=0; j<ips.length; j++) {\n                    if (!checkIpv4(ips[j].trim())) {\n                        valid = false;\n                        errors.push(ips[j] + \"is not a valid IPv4 address\");\n                        $(controlId).addClass(\"invalid\");\n                    }\n                    let dupes = checkIpv4Duplicate(ips[j], i);\n                    if (dupes > 0 && dupes !== i) {\n                        valid = false;\n                        errors.push(ips[j] + \" is a duplicate IP\");\n                        $(controlId).addClass(\"invalid\");\n                        $(\"#\" + rowPrefix(dupes, \"ipv4\")).addClass(\"invalid\");\n                    }\n                }\n            } else {\n                // Just the one\n                if (!checkIpv4(ipv4)) {\n                    valid = false;\n                    errors.push(ipv4 + \"is not a valid IPv4 address\");\n                    $(controlId).addClass(\"invalid\");\n                }\n                let dupes = checkIpv4Duplicate(ipv4, i);\n                if (dupes > 0) {\n                    valid = false;\n                    errors.push(ipv4 + \" is a duplicate IP\");\n                    $(controlId).addClass(\"invalid\");\n                    $(\"#\" + rowPrefix(dupes, \"ipv4\")).addClass(\"invalid\");\n                }\n            }\n        }\n\n        // IPv6\n        controlId = \"#\" + rowPrefix(i, \"ipv6\");\n        let ipv6 = $(controlId).val();\n        if (ipv6.length > 0) {\n            // We have IP addresses\n            if (ipv6.indexOf(',') !== -1) {\n                // We have multiple addresses\n                let ips = ipv6.replace(' ', '').split(',');\n                for (let j=0; j<ips.length; j++) {\n                    if (!checkIpv6(ips[j].trim())) {\n                        valid = false;\n                        errors.push(ips[j] + \"is not a valid IPv6 address\");\n                        $(controlId).addClass(\"invalid\");\n                    }\n                    let dupes = checkIpv6Duplicate(ips[j], i);\n                    if (dupes > 0 && dupes !== i) {\n                        valid = false;\n                        errors.push(ips[j] + \" is a duplicate IP\");\n                        $(controlId).addClass(\"invalid\");\n                        $(\"#\" + rowPrefix(dupes, \"ipv6\")).addClass(\"invalid\");\n                    }\n                }\n            } else {\n                // Just the one\n                if (!checkIpv6(ipv6)) {\n                    valid = false;\n                    errors.push(ipv6 + \"is not a valid IPv6 address\");\n                    $(controlId).addClass(\"invalid\");\n                }\n                let dupes = checkIpv6Duplicate(ipv6, i);\n                if (dupes > 0 && dupes !== i) {\n                    valid = false;\n                    errors.push(ipv6 + \" is a duplicate IP\");\n                    $(controlId).addClass(\"invalid\");\n                    $(\"#\" + rowPrefix(dupes, \"ipv6\")).addClass(\"invalid\");\n                }\n            }\n        }\n\n        // Combined - must be an address between them\n        if (ipv4.length === 0 && ipv6.length === 0) {\n            valid = false;\n            errors.push(\"You must specify either an IPv4 or IPv6 (or both) address\");\n            $(controlId).addClass(\"invalid\");\n            $(\"#\" + rowPrefix(i, \"ipv4\")).addClass(\"invalid\");\n        }\n\n        // Download Min\n        controlId = \"#\" + rowPrefix(i, \"download_min_mbps\");\n        let download_min = $(controlId).val();\n        download_min = parseInt(download_min);\n        if (isNaN(download_min)) {\n            valid = false;\n            errors.push(\"Download min is not a valid number\");\n            $(controlId).addClass(\"invalid\");\n        } else if (download_min < 1) {\n            valid = false;\n            errors.push(\"Download min must be 1 or more\");\n            $(controlId).addClass(\"invalid\");\n        }\n\n        // Upload Min\n        controlId = \"#\" + rowPrefix(i, \"upload_min_mbps\");\n        let upload_min = $(controlId).val();\n        upload_min = parseInt(upload_min);\n        if (isNaN(upload_min)) {\n            valid = false;\n            errors.push(\"Upload min is not a valid number\");\n            $(controlId).addClass(\"invalid\");\n        } else if (upload_min < 1) {\n            valid = false;\n            errors.push(\"Upload min must be 1 or more\");\n            $(controlId).addClass(\"invalid\");\n        }\n\n        // Download Max\n        controlId = \"#\" + rowPrefix(i, \"download_max_mbps\");\n        let download_max = $(controlId).val();\n        upload_min = parseInt(download_max);\n        if (isNaN(download_max)) {\n            valid = false;\n            errors.push(\"Download Max is not a valid number\");\n            $(controlId).addClass(\"invalid\");\n        } else if (download_max < 1) {\n            valid = false;\n            errors.push(\"Download Max must be 1 or more\");\n            $(controlId).addClass(\"invalid\");\n        }\n\n        // Upload Max\n        controlId = \"#\" + rowPrefix(i, \"upload_max_mbps\");\n        let upload_max = $(controlId).val();\n        upload_min = parseInt(upload_max);\n        if (isNaN(upload_max)) {\n            valid = false;\n            errors.push(\"Upload Max is not a valid number\");\n            $(controlId).addClass(\"invalid\");\n        } else if (upload_max < 1) {\n            valid = false;\n            errors.push(\"Upload Max must be 1 or more\");\n            $(controlId).addClass(\"invalid\");\n        }\n    }\n\n    if (!valid) {\n        let errorMessage = \"Invalid ShapedDevices Entries:\\n\";\n        for (let i=0; i<errors.length; i++) {\n            errorMessage += errors[i] + \"\\n\";\n        }\n        alert(errorMessage);\n    }\n\n    return {\n        valid: valid,\n        errors: errors\n    };\n}\n\nfunction ipAddressesToTuple(ip) {\n    if (ip.length === 0) return [];\n    let ips = ip.replace(' ', '').split(',');\n    for (let i=0; i<ips.length; i++) {\n        let this_ip = ips[i].trim();\n        let parts = this_ip.split('/');\n        ips[i] = [ parts[0], parseInt(parts[1]) ];\n    }\n    return ips;\n}\n\nfunction saveNetAndDevices() {\n    let isValid = validateSd().valid;\n    if (!isValid) {\n        alert(\"Validation errors in ShapedDevices. Not Saving\");\n        return;\n    }\n\n    // Update the Shaped Devices to match the onscreen list\n    for (let i=0; i<shaped_devices.length; i++) {\n        let row = shaped_devices[i];\n        row.circuit_id = $(\"#\" + rowPrefix(i, \"circuit_id\")).val();\n        row.circuit_name = $(\"#\" + rowPrefix(i, \"circuit_name\")).val();\n        row.device_id = $(\"#\" + rowPrefix(i, \"device_id\")).val();\n        row.device_name = $(\"#\" + rowPrefix(i, \"device_name\")).val();\n        row.parent_node = $(\"#\" + rowPrefix(i, \"parent_node\")).val();\n        row.mac = $(\"#\" + rowPrefix(i, \"mac\")).val();\n        row.ipv4 = ipAddressesToTuple($(\"#\" + rowPrefix(i, \"ipv4\")).val());\n        row.ipv6 = ipAddressesToTuple($(\"#\" + rowPrefix(i, \"ipv6\")).val());\n        row.download_min_mbps = parseInt($(\"#\" + rowPrefix(i, \"download_min_mbps\")).val());\n        row.upload_min_mbps = parseInt($(\"#\" + rowPrefix(i, \"upload_min_mbps\")).val());\n        row.download_max_mbps = parseInt($(\"#\" + rowPrefix(i, \"download_max_mbps\")).val());\n        row.upload_max_mbps = parseInt($(\"#\" + rowPrefix(i, \"upload_max_mbps\")).val());\n        row.comment = $(\"#\" + rowPrefix(i, \"comment\")).val();\n    }\n\n    // Submit both for saving\n    console.log(network_json);\n    let submission = {\n        shaped_devices: shaped_devices,\n        network_json: network_json,\n    }\n    $.ajax({\n        type: \"POST\",\n        url: \"/local-api/updateNetworkAndDevices\",\n        contentType:\"application/json\",\n        data: JSON.stringify(submission),\n        success: (data) => {\n            if (data === \"Ok\") {\n                alert(\"Configuration saved\");\n            } else {\n                alert(\"Configuration not saved: \" + data);\n            }\n        }\n    })\n}\n\nfunction shapedDevices() {\n    let html = \"<table style='height: 500px; overflow: scroll; border-collapse: collapse; width: 100%; padding: 0px'>\";\n    html += \"<thead style='position: sticky; top: 0; height: 50px; background: navy; color: white;'>\";\n    html += \"<tr style='font-size: 9pt;'><th>Circuit ID</th><th>Circuit Name</th><th>Device ID</th><th>Device Name</th><th>Parent Node</th><th>MAC</th><th>IPv4</th><th>IPv6</th><th>Download Min</th><th>Upload Min</th><th>Download Max</th><th>Upload Max</th><th>Comment</th><th></th></th></tr>\";\n    html += \"</thead>\";\n    for (var i=0; i<shaped_devices.length; i++) {\n        let row = shaped_devices[i];\n        html += \"<tr>\";\n        html += makeSheetBox(i, \"circuit_id\", row.circuit_id, true);\n        html += makeSheetBox(i, \"circuit_name\", row.circuit_name, true);\n        html += makeSheetBox(i, \"device_id\", row.device_id, true);\n        html += makeSheetBox(i, \"device_name\", row.device_name, true);\n        html += nodeDropDown(i, \"parent_node\", row.parent_node, true);\n        html += makeSheetBox(i, \"mac\", row.mac, true);\n        html += separatedIpArray(i, \"ipv4\", row.ipv4);\n        html += separatedIpArray(i, \"ipv6\", row.ipv6);\n        html += makeSheetNumberBox(i, \"download_min_mbps\", row.download_min_mbps);\n        html += makeSheetNumberBox(i, \"upload_min_mbps\", row.upload_min_mbps);\n        html += makeSheetNumberBox(i, \"download_max_mbps\", row.download_max_mbps);\n        html += makeSheetNumberBox(i, \"upload_max_mbps\", row.upload_max_mbps);\n        html += makeSheetBox(i, \"comment\", row.comment, true);\n        html += \"<td><button class='btn btn-sm btn-secondary' type='button' onclick='window.deleteSdRow(\" + i + \")'><i class='fa fa-trash'></i></button></td>\";\n\n        html += \"</tr>\";\n    }\n    html += \"</tbody></table>\";\n    $(\"#shapedDeviceTable\").html(html);\n}\n\nfunction userManager() {\n    let html = \"<p>For now, please use <em>bin/lqusers</em> to manage users.</p>\";\n    $(\"#userManager\").html(html);\n}\n\nfunction fillNicList(id, selected) {\n    let select = $(\"#\" + id);\n    let html = \"\";\n    for (i=0; i<nics.length; i++) {\n        html += \"<option value=\\\"\";\n        html += nics[i][0] + \"\\\"\";\n        if (nics[i][0] === selected) {\n            html += \" selected\";\n        }\n        html += \">\" + nics[i][0] + \" - \" + nics[i][1] + \" - \" + nics[i][2] + \"</option>\";\n    }\n    select.html(html);\n}\n\nfunction buildNICList(id, selected, disabled=false) {\n    let html = \"<select id='\" + id + \"'\";\n    if (disabled) html += \" disabled='true' \";\n    html += \">\";\n    for (i=0; i<nics.length; i++) {\n        html += \"<option value=\\\"\";\n        html += nics[i][0] + \"\\\"\";\n        if (nics[i][0] == selected) {\n            html += \" selected\";\n        }\n        html += \">\" + nics[i][0] + \" - \" + nics[i][1] + \" - \" + nics[i][2] + \"</option>\";\n    }\n    html += \"</select>\";\n    return html;\n}\n\nfunction display() {\n    let colorPreference = window.localStorage.getItem(\"colorPreference\");\n    if (colorPreference == null) {\n        window.localStorage.setItem(\"colorPreference\", 0);\n        colorPreference = 0;\n    }\n    $(\"#colorMode option[id='\" + colorPreference + \"']\").attr(\"selected\", true);\n    let redact = window.localStorage.getItem(\"redact\");\n    if (redact == null) {\n        window.localStorage.setItem(\"redact\", false);\n        redact = false;\n    }\n    if (redact == \"false\") redact = false;\n    $(\"#redact\").prop('checked', redact);\n    $(\"#applyDisplay\").on('click', () => {\n        let colorPreference = $(\"#colorMode\").find('option:selected').attr('id');\n        window.localStorage.setItem(\"colorPreference\", colorPreference);\n        let redact = $(\"#redact\").prop('checked');\n        window.localStorage.setItem(\"redact\", redact);\n    });\n}\n\nfunction start() {\n    // Bindings\n    $(\"#btnFlattenNetwork\").on('click', flattenNetwork);\n    $(\"#btnAddNetworkNode\").on('click', addNetworkNode);\n    window.setBridgeMode = setBridgeMode;\n    window.setStickMode = setStickMode;\n    window.newSdRow = newSdRow;\n    window.promoteNode = promoteNode;\n    window.renameNode = renameNode;\n    window.deleteNode = deleteNode;\n    window.nodeSpeedChange = nodeSpeedChange;\n    window.deleteSdRow = deleteSdRow;\n\n    // Old\n    display();\n    $.get(\"/local-api/adminCheck\", (is_admin) => {\n        if (!is_admin) {\n            $(\"#controls\").html(\"<p class='alert alert-danger' role='alert'>You have to be an administrative user to change configuration.\");\n            $(\"#userManager\").html(\"<p class='alert alert-danger' role='alert'>Only administrators can see/change user information.\");\n        } else {\n            // Handle Saving ispConfig.py\n            $(\"#btnSaveIspConfig\").on('click', (data) => {\n                saveConfig();\n            });\n            $(\"#btnSaveNetDevices\").on('click', (data) => {\n               saveNetAndDevices();\n            });\n        }\n        $.get(\"/local-api/getConfig\", (data) => {\n            lqosd_config = data;\n            console.log(\"Bindings Done\");\n            $.get(\"/local-api/listNics\", (data) => {\n                nics = data;\n                console.log(lqosd_config);\n                doBindings();\n\n                // User management\n                if (is_admin) {\n                    userManager();\n                }\n\n                $.get(\"/local-api/networkJson\", (njs) => {\n                    network_json = njs;\n                    $.get(\"/local-api/allShapedDevices\", (data) => {\n                        shaped_devices = data;\n                        shapedDevices(data);\n                        RenderNetworkJson();\n                    });\n                });\n            });\n        });\n    });\n}\n\n$(document).ready(start);"],
  "mappings": "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",
  "names": ["require_configuration", "__commonJSMin", "changes", "valid", "errors", "i", "target", "newValue", "errorMessage", "selector", "parts", "configTarget", "j", "validationResult", "data", "level", "depth", "html", "key", "value", "num_children", "newName", "newDown", "newUp", "nodeId", "previousParent", "iterate", "tree", "tmp", "direction", "newVal", "deleteList", "deleteParent", "parent", "iterateTargets", "sd", "rowId", "boxId", "small", "val", "selectedNode", "nodes", "id", "ip", "ipv4Pattern", "ipv6Pattern", "index", "formatted", "validNodes", "controlId", "device_id", "parent_node", "ipv4", "ips", "dupes", "ipv6", "download_min", "upload_min", "download_max", "upload_max", "row", "submission", "selected", "select", "disabled", "colorPreference", "redact", "is_admin", "njs"]
}
