(()=>{function i(){let t=localStorage.getItem("theme");return t===null?window.matchMedia("(prefers-color-scheme: dark)").matches?(localStorage.setItem("theme","dark"),!0):(localStorage.setItem("theme","light"),!1):t==="dark"}var a=class{constructor(e){this.id=e,this.dom=document.getElementById(e),this.dom.classList.add("muted"),i()?(window.graphPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],this.chart=echarts.init(this.dom,"dark")):(window.graphPalette=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],this.chart=echarts.init(this.dom,"vintage")),this.chart.showLoading(),this.option={},window.graphList===void 0?window.graphList=[this]:window.graphList.push(this)}onThemeChange(){}};function d(t,e){let o=0,r=0,n=0;return t<e/2?(o=255,r=Math.floor(255*t/(e/2))):(o=Math.floor(255*(e-t)/(e/2)),r=255),"rgb(".concat(o,", ").concat(r,", ").concat(n,")")}var s=class extends a{constructor(e){super(e);let o=[];this.option={geo3D:{map:"world",shading:"realistic",silent:!0,environment:"#333",realisticMaterial:{roughness:.8,metalness:0},postEffect:{enable:!0},groundPlane:{show:!1},light:{main:{intensity:1,alpha:30},ambient:{intensity:0}},viewControl:{distance:70,alpha:89,panMouseButton:"left",rotateMouseButton:"right"},itemStyle:{color:"#000"},regionHeight:.5},series:[{type:"scatter3D",coordinateSystem:"geo3D",blendMode:"lighter",lineStyle:{width:.2,opacity:.05},symbolSize:2,data:o}]},this.option&&this.chart.setOption(this.option)}update(e){this.chart.hideLoading(),this.option.series[0].data=e,this.chart.setOption(this.option)}};function l(){$.get("/local-api/flowMap",t=>{let e=[];t.forEach(o=>{let r=Math.min(200,o[4]),n=d(200-r,200);e.push({value:[o[1],o[0]],itemStyle:{color:n}})}),c.update(e),setTimeout(l,1e3)})}var c=new s("flowMap");l();})();
//# sourceMappingURL=flow_map.js.map
