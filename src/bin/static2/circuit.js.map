{
  "version": 3,
  "sources": ["../src/pubsub/ws.js", "../src/pubsub/direct_channels.js", "../src/helpers/scaling.js", "../src/helpers/builders.js", "../src/helpers/dark_mode.js", "../src/graphs/dashboard_graph.js", "../src/graphs/bits_gauge.js", "../src/graphs/circuit_throughput_graph.js", "../src/graphs/circuit_retransmit_graph.js", "../src/graphs/device_ping_graph.js", "../src/graphs/flow_sankey.js", "../src/graphs/cake_backlog.js", "../src/graphs/cake_delays.js", "../src/graphs/cake_queue_length.js", "../src/graphs/cake_traffic.js", "../src/graphs/cake_marks.js", "../src/graphs/cake_drops.js", "../src/circuit.js"],
  "sourcesContent": ["// Setup any WS feeds for this page\nlet ws = null;\n\nexport function ws_proto() {\n    if (window.location.protocl === 'https') {\n        return \"wss://\";\n    } else {\n        return \"ws://\";\n    }\n}\n\nexport function subscribeWS(channels, handler) {\n    if (ws) {\n        ws.close();\n    }\n\n    ws = new WebSocket(ws_proto() + window.location.host + '/websocket/ws');\n    ws.onopen = () => {\n        for (let i=0; i<channels.length; i++) {\n            ws.send(\"{ \\\"channel\\\" : \\\"\" + channels[i] + \"\\\"}\");\n        }\n    }\n    ws.onclose = () => {\n        ws = null;\n    }\n    ws.onerror = (error) => {\n        ws = null\n    }\n    ws.onmessage = function (event) {\n        let msg = JSON.parse(event.data);\n        handler(msg);\n    };\n}\n\nexport function resetWS() {\n    ws = null;\n}", "import {ws_proto} from './ws.js';\n\nexport class DirectChannel {\n    constructor(subObject, handler) {\n        this.ws = null;\n        this.handler = handler;\n        this.ws = new WebSocket(ws_proto() + window.location.host + '/websocket/private_ws');\n        this.ws.onopen = () => {\n            this.ws.send(JSON.stringify(subObject));\n        }\n        this.ws.onclose = () => {\n            this.ws = null;\n        }\n        this.ws.onerror = (error) => {\n            this.ws = null\n        }\n        this.ws.onmessage = function (event) {\n            let msg = JSON.parse(event.data);\n            handler(msg);\n        };\n    }\n}", "export function scaleNumber(n, fixed=2) {\n    if (n > 1000000000000) {\n        return (n / 1000000000000).toFixed(fixed) + \"T\";\n    } else if (n > 1000000000) {\n        return (n / 1000000000).toFixed(fixed) + \"G\";\n    } else if (n > 1000000) {\n        return (n / 1000000).toFixed(fixed) + \"M\";\n    } else if (n > 1000) {\n        return (n / 1000).toFixed(fixed) + \"K\";\n    }\n    return n;\n}\n\nexport function scaleNanos(n, precision=2) {\n    if (n === 0) return \"-\";\n    if (n > 60000000000) {\n        return (n / 60000000000).toFixed(precision) + \"m\";\n    }else if (n > 1000000000) {\n        return (n / 1000000000).toFixed(precision) + \"s\";\n    } else if (n > 1000000) {\n        return (n / 1000000).toFixed(precision) + \"ms\";\n    } else if (n > 1000) {\n        return (n / 1000).toFixed(precision) + \"\u00B5s\";\n    }\n    return n + \"ns\";\n}\n\nexport function colorRamp(n) {\n    if (n <= 100) {\n        return \"#aaffaa\";\n    } else if (n <= 150) {\n        return \"goldenrod\";\n    } else {\n        return \"#ffaaaa\";\n    }\n}\n\nexport function rttCircleSpan(rtt) {\n    let span = document.createElement(\"span\");\n    span.style.color = colorRamp(rtt);\n    span.innerText = \"\u2B24\";\n    return span;\n}\n\nexport function lerpGreenToRedViaOrange(value, max) {\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (value < max / 2) {\n        r = 255;\n        g = Math.floor(255 * value / (max / 2));\n    } else {\n        r = Math.floor(255 * (max - value) / (max / 2));\n        g = 255;\n    }\n    return `rgb(${r}, ${g}, ${b})`;\n}\n\nexport function formatThroughput(throughput, limitInMbps) {\n    let limitBits = limitInMbps * 1000 * 1000;\n    let percent = 0;\n    if (limitBits > 0) {\n        percent = (throughput / limitBits) * 100;\n    }\n    let color = lerpGreenToRedViaOrange(100-percent, 100);\n    let blob = \"<span class='muted' style='color: \" + color + \"'>\u25A0</span>\";\n    blob += \"<span>\" + scaleNumber(throughput, 1) + \"bps</span>\";\n    return blob;\n}\n\nexport function formatRtt(rtt) {\n    if (rtt === undefined || rtt === null || rtt.nanoseconds === 0) {\n        return \"-\";\n    }\n    const limit = 200;\n    let percent = 0;\n    if (limit > 0) {\n        percent = (rtt / limit) * 100;\n    }\n    let color = lerpGreenToRedViaOrange(100-percent, 100);\n    let blob = \"<span class='muted' style='color: \" + color + \"'>\u25A0</span>\";\n    blob += \"<span>\" + parseFloat(rtt).toFixed(0) + \"ms</span>\";\n    return blob;\n}\n\nexport function formatRetransmit(retransmits) {\n    let percent = Math.min(100, retransmits) / 100;\n    let color = lerpColor([0, 255, 0], [255, 0, 0], percent);\n    return \"<span class='muted' style='color: \" + color + \"'>\u25A0</span>\" + retransmits + \"</span>\";\n}\n\nexport function formatCakeStat(n) {\n    let percent = Math.min(100, n) / 100;\n    let color = lerpColor([128, 128, 0], [255, 255, 255], percent);\n    let html = \"<span class='muted' class='retransmits' style='color: \" + color + \"'>\";\n    html += n;\n    html += \"</span>\";\n    return html;\n}\n\nexport function lerpColor(color1, color2, weight) {\n    var r = Math.round(color1[0] + (color2[0] - color1[0]) * weight);\n    var g = Math.round(color1[1] + (color2[1] - color1[1]) * weight);\n    var b = Math.round(color1[2] + (color2[2] - color1[2]) * weight);\n    return `rgb(${r}, ${g}, ${b})`;\n}\n\nexport function formatPercent(percent, digits=0) {\n    let color = lerpGreenToRedViaOrange(100-Math.min(100,percent), 100);\n    return \"<span class='muted' style='color: \" + color + \"'>\" + percent.toFixed(digits) + \"%</span>\";\n}\n\nexport function rttNanosAsSpan(rttNanos, precision=0) {\n    let rttInMs = Math.min(200, rttNanos / 1000000);\n    let color = lerpGreenToRedViaOrange(200 - rttInMs, 200);\n    let html = \"<span class='muted' style='color: \" + color + \"'>\u25A0</span> \" + scaleNanos(rttNanos, precision);\n    return html;\n}", "import {formatRetransmit, formatRtt, formatThroughput, scaleNanos} from \"./scaling\";\nimport {redactCell} from \"./redact\";\n\nexport function heading5Icon(icon, text) {\n    let h5 = document.createElement(\"h5\");\n    h5.innerHTML = \"<i class='fa fa-\" + icon + \"'></i> \" + text;\n    return h5;\n}\n\nexport function theading(text, colspan=0, tooltip=\"\", id=\"\") {\n    let th = document.createElement(\"th\");\n    th.classList.add(\"text-center\");\n    if (id !== \"\") th.id = id;\n    if (colspan > 0) th.colSpan = colspan;\n\n    if (tooltip !== \"\") {\n        th.setAttribute(\"data-bs-toggle\", \"tooltip\");\n        th.setAttribute(\"data-bs-placement\", \"top\");\n        th.setAttribute(\"data-bs-html\", \"true\");\n        th.setAttribute(\"title\", tooltip);\n        th.innerHTML = text + \" <i class='fas fa-info-circle'></i>\";\n    } else {\n        th.innerText = text;\n    }\n\n    return th;\n}\n\nexport function simpleRow(text, redact=false) {\n    let td = document.createElement(\"td\");\n    if (redact) {\n        td.classList.add(\"redactable\");\n    }\n    td.innerText = text;\n    return td;\n}\n\nexport function simpleRowHtml(text) {\n    let td = document.createElement(\"td\");\n    td.innerHTML = text;\n    return td;\n}\n\nexport function clearDashDiv(id, target) {\n    let limit = 1;\n    if (id.includes(\"___\")) limit = 0;\n    while (target.children.length > limit) {\n        target.removeChild(target.lastChild);\n    }\n}\n\nexport function clearDiv(target, targetLength=0) {\n    while (target.children.length > targetLength) {\n        target.removeChild(target.lastChild);\n    }\n}\n\nexport function enableTooltips() {\n    // Tooltips everywhere!\n    let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\n    let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\n        return new bootstrap.Tooltip(tooltipTriggerEl)\n    })\n}\n\nlet pendingTooltips = [];\n\nexport function tooltipsNextFrame(id) {\n    pendingTooltips.push(id);\n    requestAnimationFrame(() => {\n        setTimeout(() => {\n            pendingTooltips.forEach((id) => {\n                let tooltipTriggerEl = document.getElementById(id);\n                if (tooltipTriggerEl !== null) {\n                    new bootstrap.Tooltip(tooltipTriggerEl);\n                }\n            });\n            pendingTooltips = [];\n        })\n    });\n}\n\nexport function clientTableHeader() {\n    let thead = document.createElement(\"thead\");\n    thead.appendChild(theading(\"Circuit\"));\n    thead.appendChild(theading(\"Device\"));\n    thead.appendChild(theading(\"Plan (Mbps)\"));\n    thead.appendChild(theading(\"Parent\"));\n    thead.appendChild(theading(\"IP\"));\n    thead.appendChild(theading(\"Last Seen\"));\n    thead.appendChild(theading(\"Throughput\", 2));\n    thead.appendChild(theading(\"RTT\", 2));\n    thead.appendChild(theading(\"Re-Xmit\", 2));\n    return thead;\n}\n\nexport function formatLastSeen(n) {\n    let fiveMinutesInNanos = 300000000000;\n    let result = \"-\";\n    if (n > fiveMinutesInNanos) {\n        result = \"> 5 Minutes ago\";\n    } else {\n        result = scaleNanos(n, 0) + \" ago\";\n    }\n    return result;\n}\n\nexport function topNTableHeader() {\n    let th = document.createElement(\"thead\");\n    th.classList.add(\"small\");\n    th.appendChild(theading(\"IP Address/Circuit\"));\n    th.appendChild(theading(\"Plan\"));\n    th.appendChild(theading(\"DL \u2B07\uFE0F\"));\n    th.appendChild(theading(\"UL \u2B06\uFE0F\"));\n    th.appendChild(theading(\"RTT (ms)\"));\n    th.appendChild(theading(\"TCP Retransmits\", 2));\n    return th;\n}\n\nexport function topNTableRow(r) {\n    let row = document.createElement(\"tr\");\n    row.classList.add(\"small\");\n\n    if (r.circuit_id !== \"\") {\n        let td = document.createElement(\"td\");\n        let link = document.createElement(\"a\");\n        link.href = \"circuit.html?id=\" + encodeURI(r.circuit_id);\n        link.innerText = r.ip_address;\n        redactCell(link);\n        td.append(link);\n        row.append(td);\n    } else {\n        let ip = document.createElement(\"td\");\n        ip.innerText = r.ip_address;\n        redactCell(ip);\n        row.append(ip);\n    }\n\n    let shaped = document.createElement(\"td\");\n    shaped.innerText = r.plan.down + \" / \" + r.plan.up;\n    row.append(shaped);\n\n    let dl = document.createElement(\"td\");\n    dl.innerHTML = formatThroughput(r.bits_per_second.down, r.plan.down);\n    row.append(dl);\n\n    let ul = document.createElement(\"td\");\n    ul.innerHTML = formatThroughput(r.bits_per_second.up, r.plan.up);\n    row.append(ul);\n\n    let rtt = document.createElement(\"td\");\n    rtt.innerHTML = formatRtt(r.median_tcp_rtt);\n    row.append(rtt);\n\n    let tcp_xmit_down = document.createElement(\"td\");\n    tcp_xmit_down.innerHTML = formatRetransmit(r.tcp_retransmits.down);\n    row.append(tcp_xmit_down);\n\n    let tcp_xmit_up = document.createElement(\"td\");\n    tcp_xmit_up.innerHTML = formatRetransmit(r.tcp_retransmits.up);\n    row.append(tcp_xmit_up);\n\n    return row;\n}\n\nexport function TopNTableFromMsgData(msg) {\n    let t = document.createElement(\"table\");\n    t.classList.add(\"table-sm\", \"dash-table\");\n\n    t.appendChild(topNTableHeader());\n\n    let tbody = document.createElement(\"tbody\");\n    msg.data.forEach((r) => {\n        t.appendChild(topNTableRow(r));\n    });\n    t.appendChild(tbody);\n    return t;\n}", "export function initDayNightMode() {\n    if (isDarkMode()) {\n        const darkModeSwitch = document.getElementById('darkModeSwitch');\n        darkModeSwitch.checked = true;\n        document.body.classList.add('dark-mode');\n        document.documentElement.setAttribute('data-bs-theme', \"dark\");\n    } else {\n        document.body.classList.remove('dark-mode');\n        document.documentElement.setAttribute('data-bs-theme', \"light\");\n    }\n\n    document.addEventListener('DOMContentLoaded', (event) => {\n        const darkModeSwitch = document.getElementById('darkModeSwitch');\n        const currentTheme = localStorage.getItem('theme');\n\n        if (currentTheme === 'dark') {\n            document.body.classList.add('dark-mode');\n            darkModeSwitch.checked = true;\n        }\n\n        darkModeSwitch.addEventListener('change', () => {\n            if (darkModeSwitch.checked) {\n                document.body.classList.add('dark-mode');\n                document.documentElement.setAttribute('data-bs-theme', \"dark\");\n                localStorage.setItem('theme', 'dark');\n                window.graphPalette = [\n                    '#4992ff',\n                    '#7cffb2',\n                    '#fddd60',\n                    '#ff6e76',\n                    '#58d9f9',\n                    '#05c091',\n                    '#ff8a45',\n                    '#8d48e3',\n                    '#dd79ff'\n                ];\n            } else {\n                document.body.classList.remove('dark-mode');\n                document.documentElement.setAttribute('data-bs-theme', \"light\");\n                localStorage.setItem('theme', 'light');\n                window.graphPalette = [\n                    '#d87c7c',\n                    '#919e8b',\n                    '#d7ab82',\n                    '#6e7074',\n                    '#61a0a8',\n                    '#efa18d',\n                    '#787464',\n                    '#cc7e63',\n                    '#724e58',\n                    '#4b565b'\n                ];\n            }\n            if (window.graphList !== undefined) {\n                window.graphList.forEach((graph) => {\n                    graph.chart.dispose();\n                    if (darkModeSwitch.checked) {\n                        graph.chart = echarts.init(graph.dom, 'dark');\n                    } else {\n                        graph.chart = echarts.init(graph.dom, 'vintage');\n                    }\n                    graph.chart.setOption(graph.option);\n                    graph.onThemeChange();\n                });\n            }\n        });\n    });\n}\n\nexport function isDarkMode() {\n    const currentTheme = localStorage.getItem('theme');\n    if (currentTheme === null) {\n        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n            localStorage.setItem('theme', 'dark');\n            return true;\n        } else {\n            localStorage.setItem('theme', 'light');\n            return false;\n        }\n    }\n    return currentTheme === 'dark';\n}", "import {isDarkMode} from \"../helpers/dark_mode\";\n\nexport class DashboardGraph {\n    constructor(id) {\n        this.id = id;\n        this.dom = document.getElementById(id);\n        this.dom.classList.add(\"muted\");\n        if (isDarkMode()) {\n            window.graphPalette = [\n                '#4992ff',\n                '#7cffb2',\n                '#fddd60',\n                '#ff6e76',\n                '#58d9f9',\n                '#05c091',\n                '#ff8a45',\n                '#8d48e3',\n                '#dd79ff'\n            ];\n            this.chart = echarts.init(this.dom, 'dark');\n        } else {\n            window.graphPalette = [\n                '#d87c7c',\n                '#919e8b',\n                '#d7ab82',\n                '#6e7074',\n                '#61a0a8',\n                '#efa18d',\n                '#787464',\n                '#cc7e63',\n                '#724e58',\n                '#4b565b'\n            ];\n            this.chart = echarts.init(this.dom, 'vintage');\n        }\n        this.chart.showLoading();\n        this.option = {};\n\n        // Apply to the global list of graphs\n        if (window.graphList === undefined) {\n            window.graphList = [ this ];\n        } else {\n            window.graphList.push(this);\n        }\n    }\n\n    onThemeChange() {\n        // Override this if you have to\n    }\n}", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class BitsPerSecondGauge extends DashboardGraph {\n    constructor(id) {\n        super(id);\n        this.option = {\n            series: [\n                {\n                    type: 'gauge',\n                    axisLine: {\n                        lineStyle: {\n                            width: 10,\n                            color: [\n                                [0.5, 'green'],\n                                [0.8, 'orange'],\n                                [1, '#fd666d']\n                            ]\n                        }\n                    },\n                    pointer: {\n                        icon: 'path://M2.9,0.7L2.9,0.7c1.4,0,2.6,1.2,2.6,2.6v115c0,1.4-1.2,2.6-2.6,2.6l0,0c-1.4,0-2.6-1.2-2.6-2.6V3.3C0.3,1.9,1.4,0.7,2.9,0.7z',\n                        itemStyle: {\n                            color: 'red'\n                        },\n                        width: 4,\n                    },\n                    axisTick: {\n                        distance: -10,\n                        length: 8,\n                        lineStyle: {\n                            color: '#fff',\n                            width: 2\n                        }\n                    },\n                    splitLine: {\n                        distance: -15,\n                        length: 15,\n                        lineStyle: {\n                            color: '#999',\n                            width: 4\n                        }\n                    },\n                    axisLabel: {\n                        color: 'inherit',\n                        distance: 16,\n                        fontSize: 10,\n                        formatter: (value) => { return scaleNumber(value, 1); }\n                    },\n                    detail: {\n                        valueAnimation: true,\n                        formatter: (value) => { return scaleNumber(value); },\n                        color: 'inherit',\n                        fontSize: 12,\n                    },\n                    title: {\n                        fontSize: 14,\n                        color: 'red',\n                    },\n                    data: [\n                        {\n                            name: \"DOWN\",\n                            value: 0,\n                            title: { offsetCenter: ['40%', '75%'] },\n                            detail: { offsetCenter: ['40%', '95%'] },\n                        }\n                    ]\n                },\n                {\n                    type: 'gauge',\n                    axisLine: {\n                        lineStyle: {\n                            width: 10,\n                            color: [\n                                [0.5, 'green'],\n                                [0.8, 'orange'],\n                                [1, '#fd666d']\n                            ]\n                        }\n                    },\n                    pointer: {\n                        itemStyle: {\n                            color: 'orange',\n                        },\n                        length: '80%',\n                        icon: 'path://M2.9,0.7L2.9,0.7c1.4,0,2.6,1.2,2.6,2.6v115c0,1.4-1.2,2.6-2.6,2.6l0,0c-1.4,0-2.6-1.2-2.6-2.6V3.3C0.3,1.9,1.4,0.7,2.9,0.7z',\n                    },\n                    axisTick: {\n                        distance: -10,\n                        length: 8,\n                        lineStyle: {\n                            color: '#fff',\n                            width: 2\n                        }\n                    },\n                    splitLine: {\n                        distance: -15,\n                        length: 15,\n                        lineStyle: {\n                            color: '#999',\n                            width: 4\n                        }\n                    },\n                    axisLabel: {\n                        color: 'inherit',\n                        distance: 16,\n                        fontSize: 10,\n                        formatter: (value) => { return scaleNumber(value, 1); }\n                    },\n                    detail: {\n                        valueAnimation: true,\n                        formatter: (value) => { return scaleNumber(value); },\n                        color: 'inherit',\n                        fontSize: 12,\n                    },\n                    title: {\n                        fontSize: 14,\n                        color: 'orange',\n                    },\n                    data: [\n                        {\n                            name: \"UP\",\n                            value: 0,\n                            title: { offsetCenter: ['-40%', '75%'] },\n                            detail: { offsetCenter: ['-40%', '95%'] },\n                        },\n                    ]\n                },\n            ]\n        };\n        this.option && this.chart.setOption(this.option);\n    }\n\n    update(download, upload, max_down, max_up) {\n        this.chart.hideLoading();\n        this.option.series[0].data[0].value = download;\n        this.option.series[1].data[0].value = upload;\n        this.option.series[0].min = 0;\n        this.option.series[0].max = max_down * 1000000; // Convert to bits\n        this.option.series[1].min = 0;\n        this.option.series[1].max = max_up * 1000000; // Convert to bits\n        this.chart.setOption(this.option);\n    }\n}", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nconst RING_SIZE = 60 * 5; // 5 Minutes\n\nexport class CircuitTotalGraph extends DashboardGraph {\n    constructor(id, title) {\n        super(id);\n        this.title = title;\n        this.ringbuffer = new RingBuffer(RING_SIZE);\n\n        let xaxis = [];\n        for (let i=0; i<RING_SIZE; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: this.title,\n            },\n            grid: { left: '20%' },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                data: [\n                    {\n                        name: \"Download\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Upload\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }\n                ],\n                textStyle: {\n                    color: '#aaa'\n                },\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n                axisLabel: {\n                    formatter: (val) => {\n                        return scaleNumber(Math.abs(val), 1);\n                    },\n                }\n            },\n            series: [\n                {\n                    name: 'Download',\n                    data: [],\n                    type: 'line',\n                    lineStyle: {\n                        color: window.graphPalette[0]\n                    },\n                    symbol: 'none',\n                },\n                {\n                    name: 'Upload',\n                    data: [],\n                    type: 'line',\n                    lineStyle: {\n                        color: window.graphPalette[1]\n                    },\n                    symbol: 'none',\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[0].lineStyle.color = window.graphPalette[0];\n        this.option.series[1].lineStyle.color = window.graphPalette[1];\n        this.chart.setOption(this.option);\n    }\n\n    update(download, upload) {\n        this.chart.hideLoading();\n        this.ringbuffer.push(download, upload);\n\n        let data = this.ringbuffer.series();\n        this.option.series[0].data = data[0];\n        this.option.series[1].data = data[1];\n\n        this.chart.setOption(this.option);\n    }\n}\n\nclass RingBuffer {\n    constructor(size) {\n        this.size = size;\n        let data = [];\n        for (let i=0; i<size; i++) {\n            data.push([0, 0, 0, 0]);\n        }\n        this.head = 0;\n        this.data = data;\n    }\n\n    push(download, upload) {\n        this.data[this.head][0] = download;\n        this.data[this.head][1] = 0.0 - upload;\n        this.head += 1;\n        this.head %= this.size;\n    }\n\n    series() {\n        let result = [\n            [], []\n        ];\n        for (let i=this.head; i<this.size; i++) {\n            for (let j=0; j<2; j++) {\n                result[j].push(this.data[i][j]);\n            }\n        }\n        for (let i=0; i<this.head; i++) {\n            for (let j=0; j<2; j++) {\n                result[j].push(this.data[i][j]);\n            }\n        }\n        return result;\n    }\n}", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nconst RING_SIZE = 60 * 5; // 5 Minutes\n\nexport class CircuitRetransmitGraph extends DashboardGraph {\n    constructor(id, title) {\n        super(id);\n        this.title = title;\n        this.ringbuffer = new RingBuffer(RING_SIZE);\n\n        let xaxis = [];\n        for (let i=0; i<RING_SIZE; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: this.title,\n            },\n            grid: { left: '20%' },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                data: [\n                    {\n                        name: \"Download\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Upload\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }\n                ],\n                textStyle: {\n                    color: '#aaa'\n                },\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n                axisLabel: {\n                    formatter: (val) => {\n                        return scaleNumber(Math.abs(val), 1);\n                    },\n                }\n            },\n            series: [\n                {\n                    name: 'Download',\n                    data: [],\n                    type: 'line',\n                    lineStyle: {\n                        color: window.graphPalette[0]\n                    },\n                    symbol: 'none',\n                },\n                {\n                    name: 'Upload',\n                    data: [],\n                    type: 'line',\n                    lineStyle: {\n                        color: window.graphPalette[1]\n                    },\n                    symbol: 'none',\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[0].lineStyle.color = window.graphPalette[0];\n        this.option.series[1].lineStyle.color = window.graphPalette[1];\n        this.chart.setOption(this.option);\n    }\n\n    update(download, upload) {\n        this.chart.hideLoading();\n        this.ringbuffer.push(download, upload);\n\n        let data = this.ringbuffer.series();\n        this.option.series[0].data = data[0];\n        this.option.series[1].data = data[1];\n\n        this.chart.setOption(this.option);\n    }\n}\n\nclass RingBuffer {\n    constructor(size) {\n        this.size = size;\n        let data = [];\n        for (let i=0; i<size; i++) {\n            data.push([0, 0, 0, 0]);\n        }\n        this.head = 0;\n        this.data = data;\n    }\n\n    push(download, upload) {\n        this.data[this.head][0] = download;\n        this.data[this.head][1] = 0.0 - upload;\n        this.head += 1;\n        this.head %= this.size;\n    }\n\n    series() {\n        let result = [\n            [], []\n        ];\n        for (let i=this.head; i<this.size; i++) {\n            for (let j=0; j<2; j++) {\n                result[j].push(this.data[i][j]);\n            }\n        }\n        for (let i=0; i<this.head; i++) {\n            for (let j=0; j<2; j++) {\n                result[j].push(this.data[i][j]);\n            }\n        }\n        return result;\n    }\n}", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {lerpGreenToRedViaOrange} from \"../helpers/scaling\";\n\nexport class DevicePingHistogram extends DashboardGraph {\n    constructor(id) {\n        super(id);\n        let d = [];\n        let axis = [];\n        for (let i=0; i<20; i++) {\n            d.push({\n                value: 0,\n                itemStyle: {color: lerpGreenToRedViaOrange(20-i, 20)},\n            });\n            axis.push((i*10).toString());\n        }\n        this.option = {\n            title: {\n                text: \"Ping Time Histogram\",\n            },\n            xAxis: {\n                type: 'category',\n                data: axis,\n                name: \"Ping Time (ms)\"\n            },\n            yAxis: {\n                type: 'value',\n                name: \"Samples\"\n            },\n            series: {\n                data: d,\n                type: 'bar',\n            }\n        };\n        this.option && this.chart.setOption(this.option);\n        this.chart.hideLoading();\n    }\n\n    update(ping_time_nanos) {\n        this.chart.hideLoading();\n        let ping_time_ms = ping_time_nanos / 1000000;\n        let bucket = Math.floor(ping_time_ms / 10);\n        bucket = Math.min(bucket, 19);\n        this.option.series.data[bucket].value += 1;\n        this.chart.setOption(this.option);\n    }\n\n    updateMs(ping_time_ms) {\n        this.chart.hideLoading();\n        let bucket = Math.floor(ping_time_ms / 10);\n        bucket = Math.min(bucket, 19);\n        this.option.series.data[bucket].value += 1;\n        this.chart.setOption(this.option);\n    }\n}\n\n", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class FlowsSankey extends DashboardGraph {\n    constructor(id) {\n        super(id);\n        this.option = {\n            title: { text: 'Flows Sankey' },\n            series: [\n                {\n                    type: 'sankey',\n                    data: [],\n                    links: []\n                }\n            ]\n        };\n        this.option && this.chart.setOption(this.option);\n        this.chart.hideLoading();\n    }\n\n    update(flows) {\n        // Store keyed objects to accumulate traffic for each column.\n        let localDevices = {};\n        let protocols = {};\n        let asns = {};\n        let remoteDevices = {};\n\n        const one_second_in_nanos = 1000000000;\n\n        // Iterate over each flow and accumulate traffic.\n        let flowCount = 0;\n        flows.flows.forEach((flow) => {\n            if (flow[0].last_seen_nanos > one_second_in_nanos) return;\n            flowCount++;\n            let localDevice = flow[0].device_name;\n            let proto = flow[0].protocol_name;\n            let asn = \"ASN: \" + flow[2].asn_id;\n            if (flow[0].asn_name !== \"\") asn += \" \" + flow[0].asn_name;\n            let remoteDevice = flow[0].remote_ip;\n\n            // Ensure all members are present. The arrays hold links to subsequent\n            // columns.\n            if (localDevices[localDevice] === undefined) {\n                localDevices[localDevice] = {}\n            }\n            if (protocols[proto] === undefined) {\n                protocols[proto] = {};\n            }\n            if (asns[asn] === undefined) {\n                asns[asn] = {};\n            }\n            if (remoteDevices[remoteDevice] === undefined) {\n                remoteDevices[remoteDevice] = 0;\n            }\n\n            // Accumulate traffic.\n            let currentRate = flow[1].rate_estimate_bps.down + flow[1].rate_estimate_bps.up;\n            if (localDevices[localDevice][proto] === undefined) {\n                localDevices[localDevice][proto] = currentRate;\n            } else {\n                localDevices[localDevice][proto] += currentRate;\n            }\n            if (protocols[proto][asn] === undefined) {\n                protocols[proto][asn] = currentRate;\n            } else {\n                protocols[proto][asn] += currentRate;\n            }\n            if (asns[asn][remoteDevice] === undefined) {\n                asns[asn][remoteDevice] = currentRate;\n            } else {\n                asns[asn][remoteDevice] += currentRate;\n            }\n        });\n\n        // Accumulate the graph information.\n        let data = [];\n        let links = [];\n\n        // For each key/value pair in the localDevices object, create a node.\n        for (let localDevice in localDevices) {\n            data.push({\n                name: localDevice,\n                label: {\n                    color: 'magenta'\n                }\n            });\n            for (let proto in localDevices[localDevice]) {\n                links.push({source: localDevice, target: proto, value: localDevices[localDevice][proto]});\n            }\n        }\n\n        // For each key/value pair in the protocols object, create a node.\n        for (let proto in protocols) {\n            data.push({\n                name: proto,\n                label: {\n                    color: 'green'\n                }\n            });\n            for (let asn in protocols[proto]) {\n                links.push({source: proto, target: asn, value: protocols[proto][asn]});\n            }\n        }\n\n        // For each key/value pair in the asns object, create a node.\n        for (let asn in asns) {\n            data.push({\n                name: asn,\n                label: {\n                    color: 'red'\n                }\n            });\n            for (let remoteDevice in asns[asn]) {\n                links.push({source: asn, target: remoteDevice, value: asns[asn][remoteDevice]});\n            }\n        }\n\n        // For each key/value pair in the remoteDevices object, create a node.\n        for (let remoteDevice in remoteDevices) {\n            data.push({\n                name: remoteDevice,\n                label: {\n                    color: 'orange'\n                }\n            });\n        }\n\n        // Apply it\n        this.option.series[0].data = data;\n        this.option.series[0].links = links;\n        // console.log(data);\n        // console.log(links);\n        this.chart.hideLoading();\n        this.chart.setOption(this.option);\n        return flowCount;\n    }\n}", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class CakeBacklog extends DashboardGraph {\n    constructor(id) {\n        super(id);\n\n        let xaxis = [];\n        for (let i=0; i<600; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: \"Backlog\",\n            },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                textStyle: {\n                    color: '#aaa'\n                },\n                data: [\n                    {\n                        name: \"Bulk\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Best Effort\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }, {\n                        name: \"RT Video\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[2]\n                        }\n                    }, {\n                        name: \"Voice\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[3]\n                        }\n                    }\n                ]\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n                axisLabel: {\n                    formatter: (val) => {\n                        return scaleNumber(Math.abs(val), 0);\n                    },\n                }\n            },\n            series: [\n                {\n                    name: 'Bulk',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'Voice',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n                {\n                    name: 'Bulk Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] },\n                },\n                {\n                    name: 'Best Effort Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'RT Voice Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n            animation: false,\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.legend.data[2].itemStyle.color = window.graphPalette[2];\n        this.option.legend.data[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[0].itemStyle.color = window.graphPalette[0];\n        this.option.series[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[2].itemStyle.color = window.graphPalette[2];\n        this.option.series[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[4].itemStyle.color = window.graphPalette[0];\n        this.option.series[5].itemStyle.color = window.graphPalette[1];\n        this.option.series[6].itemStyle.color = window.graphPalette[2];\n        this.option.series[7].itemStyle.color = window.graphPalette[3];\n\n        this.chart.setOption(this.option);\n    }\n\n    update(msg) {\n        this.chart.hideLoading();\n\n        for (let i=0; i<8; i++) {\n            this.option.series[i].data = [];\n        }\n        //console.log(msg);\n        for (let i=msg.history_head; i<600; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].backlog_bytes);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].backlog_bytes);\n            }\n        }\n        for (let i=0; i<msg.history_head; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].backlog_bytes);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].backlog_bytes);\n            }\n        }\n\n        this.chart.setOption(this.option);\n    }\n}\n", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class CakeDelays extends DashboardGraph {\n    constructor(id) {\n        super(id);\n\n        let xaxis = [];\n        for (let i=0; i<600; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: \"Delays\",\n            },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                textStyle: {\n                    color: '#aaa'\n                },\n                data: [\n                    {\n                        name: \"Bulk\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Best Effort\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }, {\n                        name: \"RT Video\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[2]\n                        }\n                    }, {\n                        name: \"Voice\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[3]\n                        }\n                    }\n                ]\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n            },\n            series: [\n                {\n                    name: 'Bulk',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'Voice',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n                {\n                    name: 'Bulk Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] },\n                },\n                {\n                    name: 'Best Effort Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'RT Voice Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n            animation: false,\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.legend.data[2].itemStyle.color = window.graphPalette[2];\n        this.option.legend.data[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[0].itemStyle.color = window.graphPalette[0];\n        this.option.series[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[2].itemStyle.color = window.graphPalette[2];\n        this.option.series[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[4].itemStyle.color = window.graphPalette[0];\n        this.option.series[5].itemStyle.color = window.graphPalette[1];\n        this.option.series[6].itemStyle.color = window.graphPalette[2];\n        this.option.series[7].itemStyle.color = window.graphPalette[3];\n        this.chart.setOption(this.option);\n    }\n\n    update(msg) {\n        this.chart.hideLoading();\n\n        for (let i=0; i<8; i++) {\n            this.option.series[i].data = [];\n        }\n        //console.log(msg);\n        for (let i=msg.history_head; i<600; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].base_delay_us);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].base_delay_us);\n            }\n        }\n        for (let i=0; i<msg.history_head; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].base_delay_us);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].base_delay_us);\n            }\n        }\n\n        this.chart.setOption(this.option);\n    }\n}\n", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class CakeQueueLength extends DashboardGraph {\n    constructor(id) {\n        super(id);\n\n        let xaxis = [];\n        for (let i=0; i<600; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: \"Queue Length\",\n            },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                textStyle: {\n                    color: '#aaa'\n                },\n                data: [\n                    {\n                        name: \"Queue Length\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }\n                ]\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n            },\n            series: [\n                {\n                    name: 'Queue Length',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[0]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: window.graphPalette[0]\n                },\n                {\n                    name: 'Queue Length Up',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[0]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: window.graphPalette[0]\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n            animation: false,\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.series[0].lineStyle.color = window.graphPalette[0];\n        this.option.series[0].itemStyle = window.graphPalette[0];\n        this.option.series[1].lineStyle.color = window.graphPalette[0];\n        this.option.series[1].itemStyle = window.graphPalette\n        this.chart.setOption(this.option);\n    }\n\n    update(msg) {\n        this.chart.hideLoading();\n\n        this.option.series[0].data = [];\n        this.option.series[1].data = [];\n\n        //console.log(msg);\n        for (let i=msg.history_head; i<600; i++) {\n            this.option.series[0].data.push(msg.history[i][0].qlen);\n            this.option.series[1].data.push(0 - msg.history[i][1].qlen);\n        }\n        for (let i=0; i<msg.history_head; i++) {\n            this.option.series[0].data.push(msg.history[i][0].qlen);\n            this.option.series[1].data.push(0 - msg.history[i][1].qlen);\n        }\n\n        this.chart.setOption(this.option);\n    }\n}\n", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class CakeTraffic extends DashboardGraph {\n    constructor(id) {\n        super(id);\n\n        let xaxis = [];\n        for (let i=0; i<600; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: \"Traffic\",\n            },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                textStyle: {\n                    color: '#aaa'\n                },\n                data: [\n                    {\n                        name: \"Bulk\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Best Effort\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }, {\n                        name: \"RT Video\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[2]\n                        }\n                    }, {\n                        name: \"Voice\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[3]\n                        }\n                    }\n                ]\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n                axisLabel: {\n                    formatter: (val) => {\n                        return scaleNumber(Math.abs(val), 0);\n                    },\n                }\n            },\n            series: [\n                {\n                    name: 'Bulk',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[0],\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[1]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[2]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'Voice',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[3]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n                {\n                    name: 'Bulk Up',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[0],\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort Up',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[1]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video Up',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[2]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'RT Voice Up',\n                    data: [],\n                    type: 'scatter',\n                    lineStyle: {\n                        color: window.graphPalette[3]\n                    },\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n            animation: false,\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.legend.data[2].itemStyle.color = window.graphPalette[2];\n        this.option.legend.data[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[0].itemStyle.color = window.graphPalette[0];\n        this.option.series[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[2].itemStyle.color = window.graphPalette[2];\n        this.option.series[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[4].itemStyle.color = window.graphPalette[0];\n        this.option.series[5].itemStyle.color = window.graphPalette[1];\n        this.option.series[6].itemStyle.color = window.graphPalette[2];\n        this.option.series[7].itemStyle.color = window.graphPalette[3];\n        this.chart.setOption(this.option);\n    }\n\n    update(msg) {\n        this.chart.hideLoading();\n\n        for (let i=0; i<8; i++) {\n            this.option.series[i].data = [];\n        }\n        //console.log(msg);\n        for (let i=msg.history_head; i<600; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].sent_bytes * 8);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].sent_bytes * 8);\n            }\n        }\n        for (let i=0; i<msg.history_head; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].sent_bytes * 8);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].sent_bytes * 8);\n            }\n        }\n\n        this.chart.setOption(this.option);\n    }\n}\n", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class CakeMarks extends DashboardGraph {\n    constructor(id) {\n        super(id);\n\n        let xaxis = [];\n        for (let i=0; i<600; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: \"ECN Marks\",\n            },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                textStyle: {\n                    color: '#aaa'\n                },\n                data: [\n                    {\n                        name: \"Bulk\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Best Effort\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }, {\n                        name: \"RT Video\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[2]\n                        }\n                    }, {\n                        name: \"Voice\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[3]\n                        }\n                    }\n                ]\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n                axisLabel: {\n                    formatter: (val) => {\n                        return scaleNumber(Math.abs(val), 0);\n                    },\n                }\n            },\n            series: [\n                {\n                    name: 'Bulk',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'Voice',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n                {\n                    name: 'Bulk Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] },\n                },\n                {\n                    name: 'Best Effort Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'RT Voice Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n            animation: false,\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.legend.data[2].itemStyle.color = window.graphPalette[2];\n        this.option.legend.data[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[0].itemStyle.color = window.graphPalette[0];\n        this.option.series[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[2].itemStyle.color = window.graphPalette[2];\n        this.option.series[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[4].itemStyle.color = window.graphPalette[0];\n        this.option.series[5].itemStyle.color = window.graphPalette[1];\n        this.option.series[6].itemStyle.color = window.graphPalette[2];\n        this.option.series[7].itemStyle.color = window.graphPalette[3];\n        this.chart.setOption(this.option);\n    }\n\n    update(msg) {\n        this.chart.hideLoading();\n\n        for (let i=0; i<8; i++) {\n            this.option.series[i].data = [];\n        }\n        //console.log(msg);\n        for (let i=msg.history_head; i<600; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].marks);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].marks);\n            }\n        }\n        for (let i=0; i<msg.history_head; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].marks);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].marks);\n            }\n        }\n\n        this.chart.setOption(this.option);\n    }\n}\n", "import {DashboardGraph} from \"./dashboard_graph\";\nimport {scaleNumber} from \"../helpers/scaling\";\n\nexport class CakeDrops extends DashboardGraph {\n    constructor(id) {\n        super(id);\n\n        let xaxis = [];\n        for (let i=0; i<600; i++) {\n            xaxis.push(i);\n        }\n\n        this.option = {\n            title: {\n                text: \"Shaper Drops\",\n            },\n            legend: {\n                orient: \"horizontal\",\n                right: 10,\n                top: \"bottom\",\n                selectMode: false,\n                textStyle: {\n                    color: '#aaa'\n                },\n                data: [\n                    {\n                        name: \"Bulk\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[0]\n                        }\n                    }, {\n                        name: \"Best Effort\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[1]\n                        }\n                    }, {\n                        name: \"RT Video\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[2]\n                        }\n                    }, {\n                        name: \"Voice\",\n                        icon: 'circle',\n                        itemStyle: {\n                            color: window.graphPalette[3]\n                        }\n                    }\n                ]\n            },\n            xAxis: {\n                type: 'category',\n                data: xaxis,\n            },\n            yAxis: {\n                type: 'value',\n                axisLabel: {\n                    formatter: (val) => {\n                        return scaleNumber(Math.abs(val), 0);\n                    },\n                }\n            },\n            series: [\n                {\n                    name: 'Bulk',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'Voice',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n                {\n                    name: 'Bulk Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[0] }\n                },\n                {\n                    name: 'Best Effort Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[1] }\n                },\n                {\n                    name: 'RT Video Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[2] }\n                },\n                {\n                    name: 'RT Voice Up',\n                    data: [],\n                    type: 'scatter',\n                    symbol: 'circle',\n                    symbolSize: 2,\n                    itemStyle: { color: window.graphPalette[3] }\n                },\n            ],\n            tooltip: {\n                trigger: 'item',\n            },\n            animation: false,\n        }\n        this.option && this.chart.setOption(this.option);\n    }\n\n    onThemeChange() {\n        super.onThemeChange();\n        this.option.legend.data[0].itemStyle.color = window.graphPalette[0];\n        this.option.legend.data[1].itemStyle.color = window.graphPalette[1];\n        this.option.legend.data[2].itemStyle.color = window.graphPalette[2];\n        this.option.legend.data[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[0].itemStyle.color = window.graphPalette[0];\n        this.option.series[1].itemStyle.color = window.graphPalette[1];\n        this.option.series[2].itemStyle.color = window.graphPalette[2];\n        this.option.series[3].itemStyle.color = window.graphPalette[3];\n        this.option.series[4].itemStyle.color = window.graphPalette[0];\n        this.option.series[5].itemStyle.color = window.graphPalette[1];\n        this.option.series[6].itemStyle.color = window.graphPalette[2];\n        this.option.series[7].itemStyle.color = window.graphPalette[3];\n        this.chart.setOption(this.option);\n    }\n\n    update(msg) {\n        this.chart.hideLoading();\n\n        for (let i=0; i<8; i++) {\n            this.option.series[i].data = [];\n        }\n        //console.log(msg);\n        for (let i=msg.history_head; i<600; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].drops);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].drops);\n            }\n        }\n        for (let i=0; i<msg.history_head; i++) {\n            for (let j=0; j<4; j++) {\n                if (msg.history[i][0].tins[0] === undefined) continue;\n                this.option.series[j].data.push(msg.history[i][0].tins[j].drops);\n                this.option.series[j+4].data.push(0 - msg.history[i][1].tins[j].drops);\n            }\n        }\n\n        this.chart.setOption(this.option);\n    }\n}\n", "// Obtain URL parameters\nimport {DirectChannel} from \"./pubsub/direct_channels\";\nimport {clearDiv, formatLastSeen, simpleRow, simpleRowHtml, theading} from \"./helpers/builders\";\nimport {formatRetransmit, formatRtt, formatThroughput, lerpGreenToRedViaOrange} from \"./helpers/scaling\";\nimport {BitsPerSecondGauge} from \"./graphs/bits_gauge\";\nimport {CircuitTotalGraph} from \"./graphs/circuit_throughput_graph\";\nimport {CircuitRetransmitGraph} from \"./graphs/circuit_retransmit_graph\";\nimport {scaleNanos, scaleNumber} from \"./helpers/scaling\";\nimport {DevicePingHistogram} from \"./graphs/device_ping_graph\";\nimport {FlowsSankey} from \"./graphs/flow_sankey\";\nimport {subscribeWS} from \"./pubsub/ws\";\nimport {CakeBacklog} from \"./graphs/cake_backlog\";\nimport {CakeDelays} from \"./graphs/cake_delays\";\nimport {CakeQueueLength} from \"./graphs/cake_queue_length\";\nimport {CakeTraffic} from \"./graphs/cake_traffic\";\nimport {CakeMarks} from \"./graphs/cake_marks\";\nimport {CakeDrops} from \"./graphs/cake_drops\";\n\nconst params = new Proxy(new URLSearchParams(window.location.search), {\n    get: (searchParams, prop) => searchParams.get(prop),\n});\n\nlet circuit_id = decodeURI(params.id);\nlet plan = null;\nlet channelLink = null;\nlet pinger = null;\nlet flowChannel = null;\nlet speedometer = null;\nlet totalThroughput = null;\nlet totalRetransmits = null;\nlet deviceGraphs = {};\nlet devicePings = [];\nlet flowSankey = null;\nlet funnelGraphs = {};\nlet funnelParents = [];\n\nfunction connectPrivateChannel() {\n    channelLink = new DirectChannel({\n        CircuitWatcher: {\n            circuit: circuit_id\n        }\n    }, (msg) => {\n        if (msg.devices !== null) {\n            //console.log(msg.devices);\n            fillLiveDevices(msg.devices);\n            updateSpeedometer(msg.devices);\n        }\n    });\n}\n\nfunction fullIpList(circuits) {\n    let ipList = [];\n    circuits.forEach((circuit) => {\n        circuit.ipv4.forEach((ip) => {\n            ipList.push([ip[0], circuit.device_id]);\n        });\n        circuit.ipv6.forEach((ip) => {\n            ipList.push([ip[0], circuit.device_id]);\n        });\n    });\n    return ipList;\n}\n\nfunction connectPingers(circuits) {\n    let ipList = fullIpList(circuits);\n\n    pinger = new DirectChannel({\n        PingMonitor: {\n            ips: ipList\n        }\n    },(msg) => {\n        //console.log(msg);\n        if (msg.ip != null && msg.ip !== \"test\") {\n            // Stats Updates\n            if (devicePings[msg.ip] === undefined) {\n                devicePings[msg.ip] = {\n                    count: 0,\n                    timeout: 0,\n                    success: 0,\n                    times: [],\n                }\n            }\n\n            devicePings[msg.ip].count++;\n            if (msg.result === \"NoResponse\") {\n                devicePings[msg.ip].timeout++;\n            } else {\n                devicePings[msg.ip].success++;\n                devicePings[msg.ip].times.push(msg.result.Ping.time_nanos);\n                if (devicePings[msg.ip].times.length > 300) {\n                    devicePings[msg.ip].times.shift();\n                }\n                let graphId = \"pingGraph_\" + msg.result.Ping.label;\n                let graph = deviceGraphs[graphId];\n                if (graph !== undefined) {\n                    graph.update(msg.result.Ping.time_nanos);\n                }\n            }\n\n            // Visual Updates\n            let target = document.getElementById(\"ip_\" + msg.ip);\n            if (target != null) {\n                let myPing = devicePings[msg.ip];\n                if (myPing.count === myPing.timeout) {\n                    target.innerHTML = \"<i class='fa fa-ban text-danger'></i>\";\n                } else {\n                    let loss = ((myPing.timeout / myPing.count) * 100);\n                    let lossStr = loss.toFixed(1);\n                    let avg = 0;\n                    myPing.times.forEach((time) => {\n                        avg += time;\n                    });\n                    avg = avg / myPing.times.length;\n                    let lossColor = \"text-success\";\n                    if (loss > 0 && loss < 10) {\n                        lossColor = \"text-warning\";\n                    } else if (loss >= 10) {\n                        lossColor = \"text-danger\";\n                    }\n                    let pingRamp = Math.min(avg / 200, 1);\n                    let pingColor = lerpGreenToRedViaOrange(pingRamp, 1);\n                    target.innerHTML = \"<i class='fa fa-check text-success'></i> <span class='tiny'><span class='\" + lossColor + \"'>\" + lossStr + \"%</span> / <span style='color: \" + pingColor + \"'>\" + scaleNanos(avg) + \"</span></span>\";\n                }\n            }\n        }\n    });\n}\n\nfunction connectFlowChannel() {\n    flowChannel = new DirectChannel({\n        FlowsByCircuit: {\n            circuit: circuit_id\n        }\n    }, (msg) => {\n        //console.log(msg);\n        let activeFlows = flowSankey.update(msg);\n        flowSankey.chart.resize();\n        $(\"#activeFlowCount\").text(activeFlows);\n        updateTrafficTab(msg);\n    });\n}\n\nfunction updateTrafficTab(msg) {\n    let target = document.getElementById(\"allTraffic\");\n\n    let table = document.createElement(\"table\");\n    table.classList.add(\"table\", \"table-sm\", \"table-striped\");\n    let thead = document.createElement(\"thead\");\n    thead.appendChild(theading(\"Protocol\"));\n    thead.appendChild(theading(\"Current Rate\", 2));\n    thead.appendChild(theading(\"Total Bytes\", 2));\n    thead.appendChild(theading(\"Total Packets\", 2));\n    thead.appendChild(theading(\"TCP Retransmits\", 2));\n    thead.appendChild(theading(\"RTT\", 2));\n    thead.appendChild(theading(\"ASN\"));\n    thead.appendChild(theading(\"Country\"));\n    thead.appendChild(theading(\"Remote IP\"));\n    table.appendChild(thead);\n    let tbody = document.createElement(\"tbody\");\n    const one_second_in_nanos = 1000000000; // For display filtering\n\n    // Sort msg.flows by flows[0].rate_estimate_bps.down + flows[0].rate_estimate_bps.up descending\n    msg.flows.sort((a, b) => {\n        let aRate = a[1].rate_estimate_bps.down + a[1].rate_estimate_bps.up;\n        let bRate = b[1].rate_estimate_bps.down + b[1].rate_estimate_bps.up;\n        return bRate - aRate;\n    });\n\n    msg.flows.forEach((flow) => {\n        if (flow[0].last_seen_nanos > one_second_in_nanos) return;\n        let row = document.createElement(\"tr\");\n        row.classList.add(\"small\");\n        row.appendChild(simpleRow(flow[0].protocol_name));\n        row.appendChild(simpleRowHtml(formatThroughput(flow[1].rate_estimate_bps.down * 8, plan.down)));\n        row.appendChild(simpleRowHtml(formatThroughput(flow[1].rate_estimate_bps.up * 8, plan.up)));\n        row.appendChild(simpleRow(scaleNumber(flow[1].bytes_sent.down)));\n        row.appendChild(simpleRow(scaleNumber(flow[1].bytes_sent.up)));\n        row.appendChild(simpleRow(scaleNumber(flow[1].packets_sent.down)));\n        row.appendChild(simpleRow(scaleNumber(flow[1].packets_sent.up)));\n        row.appendChild(simpleRowHtml(formatRetransmit(flow[1].tcp_retransmits.down)));\n        row.appendChild(simpleRowHtml(formatRetransmit(flow[1].tcp_retransmits.up)));\n        row.appendChild(simpleRow(scaleNanos(flow[1].rtt[0].nanoseconds)));\n        row.appendChild(simpleRow(scaleNanos(flow[1].rtt[1].nanoseconds)));\n        row.appendChild(simpleRow(flow[0].asn_name));\n        row.appendChild(simpleRow(flow[0].asn_country));\n        row.appendChild(simpleRow(flow[0].remote_ip));\n\n        tbody.appendChild(row);\n    });\n\n    table.appendChild(tbody);\n\n    clearDiv(target);\n    target.appendChild(table);\n}\n\nfunction updateSpeedometer(devices) {\n    let totalDown = 0;\n    let totalUp = 0;\n    let planDown = 0;\n    let planUp = 0;\n    let retransmitsDown = 0;\n    let retransmitsUp = 0;\n    devices.forEach((device) => {\n        totalDown += device.bytes_per_second.down;\n        totalUp += device.bytes_per_second.up;\n        planDown = Math.max(planDown, device.plan.down);\n        planUp = Math.max(planUp, device.plan.up);\n        retransmitsDown += device.tcp_retransmits.down;\n        retransmitsUp += device.tcp_retransmits.up;\n\n        let throughputGraph = deviceGraphs[\"throughputGraph_\" + device.device_id];\n        if (throughputGraph !== undefined) {\n            throughputGraph.update(device.bytes_per_second.down * 8, device.bytes_per_second.up * 8);\n        }\n\n        let retransmitGraph = deviceGraphs[\"tcpRetransmitsGraph_\" + device.device_id];\n        if (retransmitGraph !== undefined) {\n            retransmitGraph.update(device.tcp_retransmits.down, device.tcp_retransmits.up);\n        }\n    });\n    speedometer.update(totalDown * 8, totalUp * 8, planDown, planUp);\n    totalThroughput.update(totalDown * 8, totalUp * 8);\n    totalRetransmits.update(retransmitsDown, retransmitsUp);\n}\n\nfunction fillLiveDevices(devices) {\n    devices.forEach((device) => {\n        let last_seen = document.getElementById(\"last_seen_\" + device.device_id);\n        let throughputDown = document.getElementById(\"throughputDown_\" + device.device_id);\n        let throughputUp = document.getElementById(\"throughputUp_\" + device.device_id);\n        let rttDown = document.getElementById(\"rttDown_\" + device.device_id);\n        let rttUp = document.getElementById(\"rttUp_\" + device.device_id);\n        let tcp_retransmitsDown = document.getElementById(\"tcp_retransmitsDown_\" + device.device_id);\n        let tcp_retransmitsUp = document.getElementById(\"tcp_retransmitsUp_\" + device.device_id);\n\n        if (last_seen !== null) {\n            last_seen.innerHTML = formatLastSeen(device.last_seen_nanos);\n        }\n\n        if (throughputDown !== null) {\n            throughputDown.innerHTML = formatThroughput(device.bytes_per_second.down * 8, device.plan.down);\n        }\n\n        if (throughputUp !== null) {\n            throughputUp.innerHTML = formatThroughput(device.bytes_per_second.up * 8, device.plan.up);\n        }\n\n        if (rttDown !== null) {\n            if (device.median_latency !== null) {\n                rttDown.innerHTML = formatRtt(device.median_latency);\n            }\n        }\n\n        if (rttUp !== null) {\n            if (device.median_latency !== null && device.median_latency.up !== null) {\n                rttUp.innerHTML = formatRtt(device.median_latency.up);\n            }\n        }\n\n        if (tcp_retransmitsDown !== null) {\n            tcp_retransmitsDown.innerHTML = formatRetransmit(device.tcp_retransmits.down);\n        }\n\n        if (tcp_retransmitsUp !== null) {\n            tcp_retransmitsUp.innerHTML = formatRetransmit(device.tcp_retransmits.up);\n        }\n    });\n}\n\nfunction initialDevices(circuits) {\n    let target = document.getElementById(\"devices\")\n    clearDiv(target);\n\n    circuits.forEach((circuit) => {\n        let d = document.createElement(\"div\");\n        d.classList.add(\"col-3\");\n\n        // Device Information Section\n\n        let name = document.createElement(\"h5\");\n        name.classList.add(\"redactable\");\n        name.innerHTML = \"<i class='fa fa-computer'></i> \" + circuit.device_name;\n        d.appendChild(name);\n\n        let infoTable = document.createElement(\"table\");\n        infoTable.classList.add(\"table\", \"table-sm\", \"table-striped\");\n        let tbody = document.createElement(\"tbody\");\n\n        // MAC Row\n        let tr = document.createElement(\"tr\");\n        let td = document.createElement(\"td\");\n        td.innerHTML = \"<b>MAC Address</b>\";\n        tr.appendChild(td);\n        td = document.createElement(\"td\");\n        td.classList.add(\"redactable\");\n        td.colSpan = 2;\n        td.innerHTML = circuit.mac;\n        tr.appendChild(td);\n        tbody.appendChild(tr);\n\n        // Comment Row\n        let tr2 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>Comment</b>\";\n        tr2.appendChild(td);\n        td = document.createElement(\"td\");\n        td.colSpan = 2;\n        td.innerHTML = circuit.comment;\n        tr2.appendChild(td);\n        tbody.appendChild(tr2);\n\n        // IPv4 Row\n        let tr3 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>IPv4 Address(es)</b>\";\n        tr3.appendChild(td);\n        td = document.createElement(\"td\");\n        td.colSpan = 2;\n        let ipv4Table = document.createElement(\"table\");\n        ipv4Table.classList.add(\"table\", \"table-sm\");\n        let ipv4Body = document.createElement(\"tbody\");\n        circuit.ipv4.forEach((ip) => {\n            let tr = document.createElement(\"tr\");\n            let label = document.createElement(\"td\");\n            label.innerHTML = ip[0] + \"/\" + ip[1];\n            label.classList.add(\"small\");\n            tr.appendChild(label);\n            let value = document.createElement(\"td\");\n            value.id = \"ip_\" + ip[0];\n            value.innerText = \"-\";\n            tr.appendChild(value);\n            ipv4Body.appendChild(tr);\n        });\n        if (circuit.ipv4.length === 0) {\n            let tr = document.createElement(\"tr\");\n            let label = document.createElement(\"td\");\n            label.innerHTML = \"No IPv4 addresses assigned\";\n            tr.appendChild(label);\n            ipv4Body.appendChild(tr);\n        }\n        ipv4Table.appendChild(ipv4Body);\n        td.appendChild(ipv4Table);\n\n        tr3.appendChild(td);\n        tbody.appendChild(tr3);\n\n        // IPv6 Row\n        let tr4 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>IPv6 Address(es)</b>\";\n        tr4.appendChild(td);\n        td = document.createElement(\"td\");\n        td.colSpan = 2;\n\n        let ipv6 = document.createElement(\"table\");\n        ipv6.classList.add(\"table\", \"table-sm\");\n        let ipv6Body = document.createElement(\"tbody\");\n        circuit.ipv6.forEach((ip) => {\n            let tr = document.createElement(\"tr\");\n            let label = document.createElement(\"td\");\n            label.innerHTML = ip[0] + \"/\" + ip[1];\n            label.classList.add(\"small\");\n            tr.appendChild(label);\n            let value = document.createElement(\"td\");\n            value.id = \"ip_\" + ip[0];\n            value.innerText = \"-\";\n            tr.appendChild(value);\n            ipv6Body.appendChild(tr);\n        });\n        if (circuit.ipv6.length === 0) {\n            let tr = document.createElement(\"tr\");\n            let label = document.createElement(\"td\");\n            label.innerHTML = \"No IPv6 addresses assigned\";\n            tr.appendChild(label);\n            ipv6Body.appendChild(tr);\n        }\n        ipv6.appendChild(ipv6Body);\n        td.appendChild(ipv6);\n\n        /*let ipv6 = \"\";\n        circuit.ipv6.forEach((ip) => {\n            ipv6 += ip[0] + \"/\" + ip[1] + \"<br>\";\n        });\n        if (ipv6 === \"\") ipv6 = \"No IPv6 addresses assigned\";\n        td.innerHTML = ipv6;*/\n        tr4.appendChild(td);\n        tbody.appendChild(tr4);\n\n        // Placeholder for Last Seen\n        let tr8 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>Last Seen</b>\";\n        tr8.appendChild(td);\n        td = document.createElement(\"td\");\n        td.colSpan = 2;\n        td.id = \"last_seen_\" + circuit.device_id;\n        td.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        tr8.appendChild(td);\n        tbody.appendChild(tr8);\n\n        // Placeholder for throughput\n        let tr5 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>Throughput</b>\";\n        tr5.appendChild(td);\n        td = document.createElement(\"td\");\n        td.id = \"throughputDown_\" + circuit.device_id;\n        td.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        tr5.appendChild(td);\n        td = document.createElement(\"td\");\n        td.id = \"throughputUp_\" + circuit.device_id;\n        td.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        tr5.appendChild(td);\n        tbody.appendChild(tr5);\n\n        // Placeholder for RTT\n        let tr6 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>RTT</b>\";\n        tr6.appendChild(td);\n        td = document.createElement(\"td\");\n        td.colSpan = 2;\n        td.id = \"rttDown_\" + circuit.device_id;\n        td.innerHTML = \"Sampling...\";\n        tr6.appendChild(td);\n        tbody.appendChild(tr6);\n\n        // Placeholder for TCP Retransmits\n        let tr7 = document.createElement(\"tr\");\n        td = document.createElement(\"td\");\n        td.innerHTML = \"<b>TCP Re-Xmits</b>\";\n        tr7.appendChild(td);\n        td = document.createElement(\"td\");\n        td.id = \"tcp_retransmitsDown_\" + circuit.device_id;\n        td.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        tr7.appendChild(td);\n        td = document.createElement(\"td\");\n        td.id = \"tcp_retransmitsUp_\" + circuit.device_id;\n        td.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        tr7.appendChild(td);\n        tbody.appendChild(tr7);\n\n        infoTable.appendChild(tbody);\n        d.appendChild(infoTable);\n        target.appendChild(d);\n\n        // Graph for Throughput\n        let throughputGraph = document.createElement(\"div\");\n        throughputGraph.classList.add(\"col-3\")\n        throughputGraph.id = \"throughputGraph_\" + circuit.device_id;\n        throughputGraph.style.height = \"250px\";\n        throughputGraph.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        target.appendChild(throughputGraph);\n        deviceGraphs[throughputGraph.id] = new CircuitTotalGraph(throughputGraph.id, \"Throughput\");\n\n        // Graph for TCP Retransmits\n        let tcpRetransmitsGraph = document.createElement(\"div\");\n        tcpRetransmitsGraph.classList.add(\"col-3\")\n        tcpRetransmitsGraph.id = \"tcpRetransmitsGraph_\" + circuit.device_id;\n        tcpRetransmitsGraph.style.height = \"250px\";\n        tcpRetransmitsGraph.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        target.appendChild(tcpRetransmitsGraph);\n        deviceGraphs[tcpRetransmitsGraph.id] = new CircuitRetransmitGraph(tcpRetransmitsGraph.id, \"Retransmits\");\n\n        // Ping Graph Section\n        let pingGraph = document.createElement(\"div\");\n        pingGraph.classList.add(\"col-3\");\n        pingGraph.id = \"pingGraph_\" + circuit.device_id;\n        pingGraph.style.height = \"250px\";\n        pingGraph.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Loading...\";\n        target.appendChild(pingGraph);\n        deviceGraphs[pingGraph.id] = new DevicePingHistogram(pingGraph.id);\n\n    });\n}\n\nfunction initialFunnel(parentNode) {\n    let target = document.getElementById(\"theFunnel\");\n    $.get(\"/local-api/networkTree\", (data) => {\n        let immediateParent = null;\n        data.forEach((node) => {\n            if (node[1].name === parentNode) {\n                immediateParent = node[1];\n            }\n        });\n\n        if (immediateParent === null) {\n            clearDiv(target);\n            target.appendChild(document.createTextNode(\"No parent node found\"));\n            return;\n        }\n\n        let parentDiv = document.createElement(\"div\");\n        immediateParent.parents.reverse().forEach((parent) => {\n            //console.log(data[parent]);\n            let row = document.createElement(\"div\");\n            row.classList.add(\"row\");\n\n            let col = document.createElement(\"div\");\n            col.classList.add(\"col-12\");\n            let heading = document.createElement(\"h5\");\n            heading.classList.add(\"redactable\");\n            heading.innerHTML = \"<i class='fa fa-sitemap'></i> \" + data[parent][1].name;\n            col.appendChild(heading);\n            row.appendChild(col);\n            parentDiv.appendChild(row);\n\n            // Row for graphs\n            row = document.createElement(\"div\");\n            row.classList.add(\"row\");\n\n            let col_tp = document.createElement(\"div\");\n            col_tp.classList.add(\"col-4\");\n            col_tp.id = \"funnel_tp_\" + parent;\n            col_tp.style.height = \"250px\";\n            row.appendChild(col_tp);\n\n            let col_rxmit = document.createElement(\"div\");\n            col_rxmit.classList.add(\"col-4\");\n            col_rxmit.id = \"funnel_rxmit_\" + parent;\n            row.appendChild(col_rxmit);\n\n            let col_rtt = document.createElement(\"div\");\n            col_rtt.classList.add(\"col-4\");\n            col_rtt.id = \"funnel_rtt_\" + parent;\n            row.appendChild(col_rtt);\n\n            parentDiv.appendChild(row);\n        });\n        clearDiv(target);\n        target.appendChild(parentDiv);\n        // Ugly hack to defer until the DOM is updated\n        requestAnimationFrame(() => {setTimeout(() => {\n            immediateParent.parents.reverse().forEach((parent) => {\n                let tpGraph = new CircuitTotalGraph(\"funnel_tp_\" + parent, \"Throughput\");\n                let rxmitGraph = new CircuitRetransmitGraph(\"funnel_rxmit_\" + parent, \"Retransmits\");\n                let rttGraph = new DevicePingHistogram(\"funnel_rtt_\" + parent);\n                funnelGraphs[parent] = {\n                    tp: tpGraph,\n                    rxmit: rxmitGraph,\n                    rtt: rttGraph,\n                };\n            });\n            funnelParents = immediateParent.parents;\n            subscribeWS([\"NetworkTree\"], onTreeEvent);\n        }, 0)});\n    });\n}\n\nfunction onTreeEvent(msg) {\n    //console.log(msg);\n    funnelParents.forEach((parent) => {\n        if (msg.event !== \"NetworkTree\") return;\n        let myMessage = msg.data[parent][1];\n        if (myMessage === undefined) return;\n        let tpGraph = funnelGraphs[parent].tp;\n        let rxmitGraph = funnelGraphs[parent].rxmit;\n        let rttGraph = funnelGraphs[parent].rtt;\n\n        tpGraph.update(myMessage.current_throughput[0] * 8, myMessage.current_throughput[0] *8);\n        rxmitGraph.update(myMessage.current_retransmits[0], myMessage.current_retransmits[1]);\n        myMessage.rtts.forEach((rtt) => {\n            rttGraph.updateMs(rtt);\n        });\n        tpGraph.chart.resize();\n        rxmitGraph.chart.resize();\n        rttGraph.chart.resize();\n    });\n}\n\nfunction subscribeToCake() {\n    let backlogGraph = new CakeBacklog(\"cakeBacklog\");\n    let delaysGraph = new CakeDelays(\"cakeDelays\");\n    let queueLength = new CakeQueueLength(\"cakeQueueLength\");\n    let traffic = new CakeTraffic(\"cakeTraffic\");\n    let marks = new CakeMarks(\"cakeMarks\");\n    let drops = new CakeDrops(\"cakeDrops\");\n    channelLink = new DirectChannel({\n        CakeWatcher: {\n            circuit: circuit_id\n        }\n    }, (msg) => {\n        //console.log(msg);\n\n        // Cake Memory Usage\n        $(\"#cakeQueueMemory\").text(scaleNumber(msg.current_download.memory_used) + \" / \" + scaleNumber(msg.current_upload.memory_used));\n        backlogGraph.update(msg);\n        backlogGraph.chart.resize();\n        delaysGraph.update(msg);\n        delaysGraph.chart.resize();\n        queueLength.update(msg);\n        queueLength.chart.resize();\n        traffic.update(msg);\n        traffic.chart.resize();\n        marks.update(msg);\n        marks.chart.resize();\n        drops.update(msg);\n        drops.chart.resize();\n    });\n}\n\nfunction wireupAnalysis(circuits) {\n    let ipAddresses = fullIpList(circuits);\n    let list = document.createElement(\"div\");\n    let listBtn = document.createElement(\"button\");\n    listBtn.type = \"button\";\n    listBtn.id = \"CaptureTopBtn\";\n    listBtn.classList.add(\"btn\", \"btn-secondary\", \"dropdown-toggle\", \"btn-sm\");\n    listBtn.setAttribute(\"data-bs-toggle\", \"dropdown\");\n    listBtn.innerHTML = \"<i class='fa fa-search'></i> Packet Capture\";\n    list.appendChild(listBtn);\n\n    let listUl = document.createElement(\"ul\");\n    listUl.classList.add(\"dropdown-menu\", \"dropdown-menu-sized\");\n    ipAddresses.forEach((ip) => {\n        let entry = document.createElement(\"li\");\n        let item = document.createElement(\"a\");\n        item.classList.add(\"dropdown-item\");\n        item.innerHTML = \"<i class='fa fa-search'></i> Capture packets from \" + ip[0];\n        let address = ip[0]; // For closure capture\n        item.onclick = () => {\n            //console.log(\"Clicky \" + address);\n            $.get(\"/local-api/requestAnalysis/\" + encodeURI(address), (data) => {\n                //console.log(data);\n                if (data === \"Fail\") {\n                    alert(\"Packet capture is already active for another IP. Please try again when it is finished.\")\n                    return;\n                }\n                let counter = parseInt(data.Ok.countdown)+1;\n                let sessionId = data.Ok.session_id;\n                let btn = document.getElementById(\"CaptureTopBtn\");\n                btn.disabled = true;\n                btn.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Capturing Packets (\" + counter + \")\";\n                let interval = setInterval(() => {\n                    counter--;\n                    if (counter === -1) {\n                        clearInterval(interval);\n                        btn.disabled = false;\n                        btn.innerHTML = \"<i class='fa fa-download'></i> Download Packet Capture for \" + address;\n                        btn.classList.remove(\"btn-secondary\");\n                        btn.classList.add(\"btn-success\");\n                        btn.onclick = () => {\n                            let url = \"/local-api/pcapDump/\" + sessionId;\n                            download(url, \"capture.pcap\");\n                            //console.log(url);\n\n                            // Restore the buttons\n                            $.ajax({\n                                type: \"POST\",\n                                url: \"/local-api/circuitById\",\n                                data: JSON.stringify({id: circuit_id}),\n                                contentType: 'application/json',\n                                success: (circuits) => {\n                                    wireupAnalysis(circuits);\n                                }\n                            });\n                        }\n                        return;\n                    }\n                    btn.innerHTML = \"<i class='fa fa-spinner fa-spin'></i> Capturing Packets (\" + counter + \")\";\n                }, 1000);\n            });\n        }\n        entry.appendChild(item);\n        listUl.appendChild(entry);\n    });\n    list.appendChild(listUl);\n    let parent = document.getElementById(\"captureButton\");\n    clearDiv(parent);\n    parent.appendChild(list);\n}\n\nfunction download(dataurl, filename) {\n    const link = document.createElement(\"a\");\n    link.href = dataurl;\n    link.download = filename;\n    link.click();\n}\n\nfunction loadInitial() {\n    $.ajax({\n        type: \"POST\",\n        url: \"/local-api/circuitById\",\n        data: JSON.stringify({ id: circuit_id }),\n        contentType: 'application/json',\n        success: (circuits) => {\n            //console.log(circuits);\n            let circuit = circuits[0];\n            $(\"#circuitName\").text(circuit.circuit_name);\n            $(\"#parentNode\").text(circuit.parent_node);\n            $(\"#bwMax\").text(circuit.download_max_mbps + \" / \" + circuit.upload_max_mbps + \" Mbps\");\n            $(\"#bwMin\").text(circuit.download_min_mbps + \" / \" + circuit.upload_min_mbps + \" Mbps\");\n            plan = {\n                down: circuit.download_max_mbps,\n                up: circuit.upload_max_mbps,\n            };\n            initialDevices(circuits);\n            speedometer = new BitsPerSecondGauge(\"bitsGauge\");\n            totalThroughput = new CircuitTotalGraph(\"throughputGraph\", \"Total Circuit Throughput\");\n            totalRetransmits = new CircuitRetransmitGraph(\"rxmitGraph\", \"Total Circuit Retransmits\");\n            flowSankey = new FlowsSankey(\"flowSankey\");\n\n            connectPrivateChannel();\n            connectPingers(circuits);\n            connectFlowChannel();\n            initialFunnel(circuit.parent_node);\n            subscribeToCake();\n            wireupAnalysis(circuits);\n        },\n        error: () => {\n            alert(\"Circuit with id \" + circuit_id + \" not found\");\n        }\n    })\n}\n\nloadInitial();"],
  "mappings": "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",
  "names": ["ws", "ws_proto", "subscribeWS", "channels", "handler", "i", "error", "event", "msg", "DirectChannel", "subObject", "handler", "ws_proto", "error", "event", "msg", "scaleNumber", "n", "fixed", "scaleNanos", "precision", "lerpGreenToRedViaOrange", "value", "max", "r", "g", "b", "formatThroughput", "throughput", "limitInMbps", "limitBits", "percent", "blob", "scaleNumber", "formatRtt", "rtt", "limit", "formatRetransmit", "retransmits", "lerpColor", "lerpColor", "color1", "color2", "weight", "r", "g", "b", "theading", "text", "colspan", "tooltip", "id", "th", "simpleRow", "redact", "td", "simpleRowHtml", "clearDiv", "target", "targetLength", "formatLastSeen", "n", "fiveMinutesInNanos", "result", "scaleNanos", "isDarkMode", "currentTheme", "DashboardGraph", "id", "isDarkMode", "BitsPerSecondGauge", "DashboardGraph", "id", "value", "scaleNumber", "download", "upload", "max_down", "max_up", "RING_SIZE", "CircuitTotalGraph", "DashboardGraph", "id", "title", "RingBuffer", "xaxis", "i", "val", "scaleNumber", "download", "upload", "data", "size", "result", "j", "RING_SIZE", "CircuitRetransmitGraph", "DashboardGraph", "id", "title", "RingBuffer", "xaxis", "i", "val", "scaleNumber", "download", "upload", "data", "size", "result", "j", "DevicePingHistogram", "DashboardGraph", "id", "d", "axis", "i", "lerpGreenToRedViaOrange", "ping_time_nanos", "ping_time_ms", "bucket", "FlowsSankey", "DashboardGraph", "id", "flows", "localDevices", "protocols", "asns", "remoteDevices", "flowCount", "flow", "localDevice", "proto", "asn", "remoteDevice", "currentRate", "data", "links", "CakeBacklog", "DashboardGraph", "id", "xaxis", "i", "val", "scaleNumber", "msg", "j", "CakeDelays", "DashboardGraph", "id", "xaxis", "i", "msg", "j", "CakeQueueLength", "DashboardGraph", "id", "xaxis", "i", "msg", "CakeTraffic", "DashboardGraph", "id", "xaxis", "i", "val", "scaleNumber", "msg", "j", "CakeMarks", "DashboardGraph", "id", "xaxis", "i", "val", "scaleNumber", "msg", "j", "CakeDrops", "DashboardGraph", "id", "xaxis", "i", "val", "scaleNumber", "msg", "j", "params", "searchParams", "prop", "circuit_id", "plan", "channelLink", "pinger", "flowChannel", "speedometer", "totalThroughput", "totalRetransmits", "deviceGraphs", "devicePings", "flowSankey", "funnelGraphs", "funnelParents", "connectPrivateChannel", "DirectChannel", "msg", "fillLiveDevices", "updateSpeedometer", "fullIpList", "circuits", "ipList", "circuit", "ip", "connectPingers", "graphId", "graph", "target", "myPing", "loss", "lossStr", "avg", "time", "lossColor", "pingRamp", "pingColor", "lerpGreenToRedViaOrange", "scaleNanos", "connectFlowChannel", "activeFlows", "updateTrafficTab", "table", "thead", "theading", "tbody", "one_second_in_nanos", "a", "b", "aRate", "flow", "row", "simpleRow", "simpleRowHtml", "formatThroughput", "scaleNumber", "formatRetransmit", "clearDiv", "devices", "totalDown", "totalUp", "planDown", "planUp", "retransmitsDown", "retransmitsUp", "device", "throughputGraph", "retransmitGraph", "last_seen", "throughputDown", "throughputUp", "rttDown", "rttUp", "tcp_retransmitsDown", "tcp_retransmitsUp", "formatLastSeen", "formatRtt", "initialDevices", "d", "name", "infoTable", "tr", "td", "tr2", "tr3", "ipv4Table", "ipv4Body", "label", "value", "tr4", "ipv6", "ipv6Body", "tr8", "tr5", "tr6", "tr7", "CircuitTotalGraph", "tcpRetransmitsGraph", "CircuitRetransmitGraph", "pingGraph", "DevicePingHistogram", "initialFunnel", "parentNode", "data", "immediateParent", "node", "parentDiv", "parent", "col", "heading", "col_tp", "col_rxmit", "col_rtt", "tpGraph", "rxmitGraph", "rttGraph", "subscribeWS", "onTreeEvent", "myMessage", "rtt", "subscribeToCake", "backlogGraph", "CakeBacklog", "delaysGraph", "CakeDelays", "queueLength", "CakeQueueLength", "traffic", "CakeTraffic", "marks", "CakeMarks", "drops", "CakeDrops", "wireupAnalysis", "ipAddresses", "list", "listBtn", "listUl", "entry", "item", "address", "counter", "sessionId", "btn", "interval", "url", "download", "dataurl", "filename", "link", "loadInitial", "BitsPerSecondGauge", "FlowsSankey"]
}
