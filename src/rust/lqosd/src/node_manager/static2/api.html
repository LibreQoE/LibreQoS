<!-- API & Chatbot (Libby) overview -->

<!-- Subscription notice -->
<div id="apiInsightNotice" class="alert alert-info d-none" role="alert">
  <div class="d-flex align-items-center">
    <div class="me-2 text-info"><i class="fa fa-circle-info fa-lg"></i></div>
    <div>
      <div class="fw-semibold">The LibreQoS API is an Insight feature.</div>
      <a class="alert-link" href="lts_trial.html">Start an Insight free trial</a> to enable API access and Libby on this node.
    </div>
  </div>
</div>

<!-- Benefits intro -->
<div class="text-secondary">
<h2 class="h4 mb-2">
  <i class="fa-solid fa-robot me-2"></i>LibreQoS API and Libby
  <span class="text-muted">— faster answers, better visibility</span>
  </h2>
<p class="text-secondary">
  The Local API exposes real‑time telemetry and network insights from your node, while Libby combines those
  live metrics with embedded documentation to deliver concise, actionable answers. Use them to accelerate troubleshooting,
  automate checks, and keep operators focused on outcomes instead of digging for data.
  </p>

<!-- Capabilities list -->
<h3 class="h5 mt-4">What you can do</h3>
<ul class="mb-4">
  <li><i class="fa-solid fa-gauge-high me-2 text-secondary"></i>Query live throughput, packet rates, and shaped vs. unshaped traffic.</li>
  <li><i class="fa-solid fa-tower-broadcast me-2 text-secondary"></i>See circuits and nodes nearing capacity to prevent congestion.</li>
  <li><i class="fa-solid fa-arrows-turn-to-dots me-2 text-secondary"></i>Analyze TCP retransmits and latency to pinpoint quality issues.</li>
  <li><i class="fa-solid fa-sitemap me-2 text-secondary"></i>Summarize your network tree and trace upstream paths (funnel views).</li>
  <li><i class="fa-solid fa-magnifying-glass me-2 text-secondary"></i>Look up flows by IP, top downloaders, and active endpoints.</li>
  <li><i class="fa-regular fa-file-lines me-2 text-secondary"></i>Generate ticket suggestions with clear next steps and likely causes.</li>
  <li><i class="fa-regular fa-circle-question me-2 text-secondary"></i>Ask Libby anything—she uses tools first, then explains results in plain English.</li>
  <li><i class="fa-solid fa-language me-2 text-secondary"></i>Chat in your native language — Libby understands and replies in the same language, clearly and concisely.</li>
  <li><i class="fa-solid fa-book me-2 text-secondary"></i>Get relevant docs snippets (RAG) with citations to official LibreQoS guidance.</li>
</ul>

<!-- Getting started blurb -->
<div class="card">
  <div class="card-body">
    <h4 class="h6 card-title mb-2"><i class="fa-solid fa-plug me-2"></i>Getting started</h4>
    <p class="mb-2 text-secondary">
      Click the <strong>Insight - Free Trial</strong> link in the top menu to start a trial and enable the Local API and Libby.
      If you already have a key, use the same link to enter it. Once enabled, the Swagger UI is available at <code>/api-docs</code>
      and Libby at <code>http://&lt;node-ip&gt;:9121/</code>.
    </p>
  </div>
</div>
<!-- Close the outer text-secondary wrapper -->
</div>

<script>
  (function(){
    const notice = document.getElementById('apiInsightNotice');
    if (!notice) return;
    const hasInsight = typeof window.hasInsight !== 'undefined' ? !!window.hasInsight : false;
    if (!hasInsight) {
      notice.classList.remove('d-none');
    } else {
      notice.classList.add('d-none');
    }
  })();
</script>
